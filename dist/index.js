(()=>{"use strict";var n={288:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentBase=void 0;class t extends HTMLElement{constructor(){super();const n=this.attachShadow({mode:"open"}),e=document.createElement("style");e.textContent=this.getStyle(),n.innerHTML=this.renderHTML(),n.appendChild(e)}renderAll(){const n=document.createElement("style");n.textContent=this.getStyle(),this.shadowRoot.innerHTML=this.renderHTML(),this.shadowRoot.appendChild(n)}getStyle(){return""}renderHTML(){return""}}e.ComponentBase=t},741:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonItem=void 0;const o=t(288);class i extends o.ComponentBase{static get observedAttributes(){return["label","theme","onclick"]}attributeChangedCallback(n,e,t){e!=t&&"label"===n&&(this.shadowRoot.getElementById("button").innerText=t)}constructor(){super(),this.shadowRoot.getElementById("button").addEventListener("focus",(()=>{this.shadowRoot.getElementById("container").className=`focus ${this.getAttribute("theme")}`})),this.shadowRoot.getElementById("button").addEventListener("blur",(()=>{this.shadowRoot.getElementById("container").className=this.getAttribute("theme")}))}getStyle(){const n="#4982DB";return`\n        div#container {\n          width:100%;\n          padding: 0px;\n          border: 2px solid transparent;\n          border-radius: 1px;\n          transition: background-color 0.1s;\n        }\n        div#container.focus {\n          // border-color: #2684FF60;\n          border: 2px solid #2684FF60;\n        }\n        div#container.bg-transparent.focus {\n          border: 1px solid #707070;\n        }\n        button{\n          font-size: 1rem;\n          width: 100%;\n          background-color: #0088FF;\n          color: white;\n          padding: 7px 10px;\n          border-radius: 0px;\n          border: 2px solid transparent;\n          appearance: none;\n          outline: none;\n          transition: background-color 0.1s;\n        }\n        div#container.bg-transparent{\n          border-width: 1px;\n        }\n        button#button:hover {\n          background-color: ${n};\n        }\n        button#button.bg-transparent {\n          color: black;\n          background-color: transparent;\n          border: 2px solid #707070;\n        }\n        button#button.bg-transparent:hover {\n          background-color: rgba(0, 0, 0, 0.05);\n        }\n        button:focus {\n          border: 2px solid ${n};\n          background-color: ${n};\n        }\n        `}renderHTML(){const n=this.getAttribute("label");return`\n        <div id="container" class=${this.getAttribute("theme")}>\n          <button id="button" class=${this.getAttribute("theme")} onclick=${this.getAttribute("click")}>${n}</button>\n        </div>\n        `}}e.ButtonItem=i,customElements.define("button-component",i)},584:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Colors=void 0;class t{}e.Colors=t,t.BLUE="#0055FF"},947:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextInput=void 0;const o=t(288),i=t(584);class s extends o.ComponentBase{constructor(){super();const n=n=>{console.log(this),this.dispatchEvent(new CustomEvent("event"))};n.bind(this),this.shadowRoot.getElementById("text-input").addEventListener("click",(e=>{n()}))}onInput(n){this.dispatchEvent(n)}getStyle(){return`\n        div#root {\npadding: 0px;\n        }\n        input{\n        background-color: transparent;\n        font-size: 1rem;\n        margin: 5px;\npadding: 8px;\n        border-radius: 0px;\n        border: 1px solid #707070;\ntransition: border-color 0.1s;\n        }\n        input:focus-visible {\n        border: 2px solid ${i.Colors.BLUE};\n        margin: 4px;\noutline: none;\n        }\n        `}renderHTML(){return`\n        <div id="root">\n          <input id="text-input" type="text" placeholder=${this.getAttribute("placeholder")||"Type"} />\n        </div>\n        `}}e.TextInput=s,customElements.define("text-input",s)},455:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkComponent=void 0;const o=t(288),i=t(584);class s extends o.ComponentBase{constructor(){super()}getStyle(){return`\n        a {\n          font-family: system-ui;\n          font-size: 1rem;\n          text-decoration: none;\n          color: ${i.Colors.BLUE};\n        }\n        a:hover {\n          text-decoration: underline;\n        }\n        a:visited {\n          color: ${i.Colors.BLUE};\n        }\n        `}renderHTML(){return`\n        <a href=${this.getAttribute("to")}>${this.getAttribute("label")}</a>\n        `}}e.LinkComponent=s,customElements.define("link-component",s)},981:(n,e,t)=>{const o=t(988);t(741),t(455),t(947),t(287),t(733),t(244),customElements.define("custom-select-view",o.CustomSelectView),customElements.define("type-select-view",o.TypeSelectView)},733:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HoverNotification=void 0;const o=t(288),i=t(584);class s extends o.ComponentBase{getStyle(){return`\ndiv#container {\nfont-family: system-ui;\nposition: fixed;\nbottom: 24px;\nright: 24px;\nwidth: 250px;\nbackground-color: #101010;\nborder-radius: 16px;\nborder: 1px solid #303030;\nbox-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.1);\npadding: 8px 8px;\ndisplay: flex;\nflex-direction: column;\n}\ndiv#container.light {\nbackground-color: #FFFFFF;\nborder-color: rgba(0, 0, 0, 0.15);\nbox-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.05);\n}\nspan {\ncolor: white;\nfont-family: system-ui;\n}\ndiv#container.light span { color: black;}\nspan#title {\nfont-weight: bold;\nfont-size: 16px;\n}\nspan#content {\nfont-size: 14px;\ncolor: #A0A0A0;\n}\n.d-none {\ndisplay: none;\n}\n.d-block {\ndisplay:block;\n}\n.d-flex{\ndisplay: flex;\n}\nbutton{\nbackground-color: #4982DB;\nborder-radius: 50px;\ncolor: white;\nborder: none;\noutline: none;\npadding: 4px 8px;\n}\nbutton#button-dismiss {\nbackground-color: transparent;\ncolor: ${i.Colors.BLUE};\nborder: 1px solid ${i.Colors.BLUE};\n}\ndiv.dark button#button-dismiss {\ncolor: white;\nbackground-color: rgba(255, 255, 255, 0.2);\nborder-color: transparent;\n}\ndiv#container.d-none {\ndisplay: none;\n}\ndiv.light button#button-dismiss:hover {\nbackground-color: #F0F0F0;\n}\ndiv.dark button#button-dismiss:hover {\nbackground-color: rgba(255, 255, 255, 0.1);\n}\n`}renderHTML(){return`\n        <div id="container" class="${this.getAttribute("theme")||"light"} d-none">\n          <div style="display: flex; flex-direction: column; padding: 8px 8px;">\n            <span id="title">Notification Title</span>\n            <span id="content">Notification content</span>\n          </div>\n          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 8px 8px;">\n            <button id="button-ok">OK</buton>\n            <button id="button-dismiss">Dismiss</button>\n          </div>\n        </div>\n        `}constructor(){super(),this.shadowRoot.getElementById("button-dismiss").addEventListener("click",(()=>{this.hide(),this.dispatchEvent(new CustomEvent("dismiss-clicked"))})),this.shadowRoot.getElementById("button-ok").addEventListener("click",(()=>{this.hide(),this.dispatchEvent(new CustomEvent("ok-clicked"))}))}show(n,e){this.title=n,this.message=e,this.showContainer(),setTimeout((()=>{this.hide()}),5e3)}set title(n){this.shadowRoot.getElementById("title").innerText=n}set message(n){this.shadowRoot.getElementById("content").innerText=n}showContainer(){const n=this.getAttribute("theme")||"light";this.shadowRoot.getElementById("container").className=`${n}`}hide(){const n=this.getAttribute("theme")||"light";this.shadowRoot.getElementById("container").className=`${n} d-none`}}e.HoverNotification=s,customElements.define("hover-notification",s)},988:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeSelectView=e.CustomSelectView=void 0;class t extends HTMLElement{static get observedAttributes(){return["selectedoptionindex","theme"]}constructor(){super(),this.internalOptions=[];const n=this.attachShadow({mode:"open"}),e=document.createElement("style");"dark"===this.getAttribute("theme")?e.textContent="\n                button {\n                  font-size: 1rem;\n                text-align: start;\n                background-color: #222222;\n                border: none;\n                padding: 8px 8px;\n                color: white;\n                }\n                button:hover {\n                background-color: #333333;\n                }\n                button.selected {\n                background-color: #0077FF;\n                color: white;\n                }\n                .d-none { display: none; }\n                .d-block { display: block;}\n                .d-flex { display: flex; flex-direction: column;}\n                }\n           ":e.textContent="\nbutton {\ntext-align: start;\nbackground-color: #FFFFFF;\nborder: none;\npadding: 8px 8px;\ncolor: black;\nfont-size: 1rem;\n}\nbutton:hover {\nbackground-color: #F0F0F0;\n}\nbutton.selected {\nbackground-color: #0077FF;\ncolor: white;\n}\n.d-none { display: none; }\n.d-block { display: block;}\n.d-flex { display: flex; flex-direction: column;}\n}\n",n.innerHTML='<div><div id="options-list" style="display: flex; flex-direction: column;"></div></div>',n.appendChild(e)}renderAll(){const n=document.createElement("style");"dark"===this.getAttribute("theme")?n.textContent="\n                button {\n                  font-size: 1rem;\n                text-align: start;\n                background-color: #222222;\n                border: none;\n                padding: 8px 8px;\n                color: white;\n                }\n                button:hover {\n                background-color: #333333;\n                }\n                button.selected {\n                background-color: #0077FF;\n                color: white;\n                }\n                .d-none { display: none; }\n                .d-block { display: block;}\n                .d-flex { display: flex; flex-direction: column;}\n                }\n           ":n.textContent="\nbutton {\ntext-align: start;\nbackground-color: #FFFFFF;\nborder: none;\npadding: 8px 8px;\ncolor: black;\nfont-size: 1rem;\n}\nbutton:hover {\nbackground-color: #F0F0F0;\n}\nbutton.selected {\nbackground-color: #0077FF;\ncolor: white;\n}\n.d-none { display: none; }\n.d-block { display: block;}\n.d-flex { display: flex; flex-direction: column;}\n}\n",this.shadowRoot.innerHTML='<div><div id="options-list" style="display: flex; flex-direction: column;"></div></div>',this.shadowRoot.appendChild(n)}set options(n){this.internalOptions=n;const e=this.shadowRoot.getElementById("options-list");e.innerText="";for(const t of n){const n=document.createElement("button");n.setAttribute("value",t.value),n.innerText=t.label,n.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("option-select",{detail:{value:t.value}}))})),e.appendChild(n)}console.debug("set options")}get options(){return this.internalOptions}attributeChangedCallback(n,e,t){if("selectedoptionindex"===n){const n=parseInt(t);if(n<0)return;for(const n of this.shadowRoot.getElementById("options-list").getElementsByTagName("button"))n.className="";this.shadowRoot.getElementById("options-list").getElementsByTagName("button").length>n&&(this.shadowRoot.getElementById("options-list").getElementsByTagName("button")[n].className="selected")}else"theme"===n&&(this.renderAll(),this.options=this.internalOptions)}}e.CustomSelectView=t;class o extends HTMLElement{static get observedAttributes(){return["theme","placeholder"]}attributeChangedCallback(n,e,t){if(e!==t&&"theme"===n){const n=this.shadowRoot.getElementById("root-style"),e=t;this.shadowRoot.getElementById("select-view").setAttribute("theme",e),n.textContent="dark"===e?"\n        div#root {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        }\n        div#sub {\n          z-index: 1;\n          position: absolute;\n          top: 45px;\n          width: calc(100% - 8px);\n          margin: 0px 4px;\n          border: 1px solid rgba(0, 0, 0, 0.7);\nbackground-color: #333333;\n        }\n        button#create-new {\n          text-align: start;\n          background-color: #333333;\ncolor: white;\n          border: none;\n          padding: 8px 4px;\n        }\n        button#create-new:hover {\n          background-color: #505050;\n        }\n        .d-none { display: none; }\n        .d-block { display: block;}\n        div#sub.d-flex {\n          display: flex; flex-direction: column;\n          box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.3);\n        }\n        input#search {\n          background-color: #303030;\n          transition: border-color 0.1s;\n          font-size: 1rem;\n          margin: 4px 4px;\n          border-radius: 0px;\n          border: 2px solid #303030;\n          padding: 8px 8px;\n          outline: none;\ncolor: white;\n}    input#search:focus-visible {\nborder: 2px solid rgba(100, 170, 255, 0.7);\noutline-width: 0;\n}\ninput#search.selected {\ncolor: #FF3311;\nborder-color: #FF3311;\n}\n":"\n        div#root {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        }\n        div#sub {\n          z-index: 1;\n          position: absolute;\n          top: 45px;\n          width: calc(100% - 8px);\n          margin: 0px 4px;\n          border: 1px solid #B0B0B0;\nbackground-color: white;\n        }\n        button#create-new {\n          text-align: start;\n          background-color: #FFFFFF;\ncolor: white;\n          border: none;\n          padding: 8px 4px;\n          color:black;\n          font-size: 1rem;\n        }\n        button#create-new:hover {\n          background-color: #F0F0F0;\n        }\n        .d-none { display: none; }\n        .d-block { display: block;}\n        div#sub.d-flex {\n          display: flex; flex-direction: column;\n          box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.1);\n        }\n        input#search {\n          background-color: #FFFFFF;\n          transition: border-color 0.1s;\n          font-size: 1rem;\n          margin: 5px 5px;\n          border-radius: 0px;\n          border: 1px solid #707070;\n          padding: 8px 8px;\n          outline: none;\ncolor: black;\n}    input#search:focus-visible {\nborder: 2px solid rgba(100, 170, 255, 0.7);\nmargin: 4px;\noutline-width: 0;\n}\ninput#search.selected {\ncolor: #FF3311;\nborder-color: #FF3311;\n}\n"}}constructor(){super(),this.shadowRoot=new ShadowRoot,this.Options=[{value:0,label:"dog"},{value:1,label:"cat"},{value:2,label:"rabbit"}],this.selectedOptionIndex=-1;const n=this.attachShadow({mode:"open"}),e=document.createElement("style");e.setAttribute("id","root-style");const t=this.getAttribute("theme");e.textContent="dark"===t?"\n        div#root {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        }\n        div#sub {\n          z-index: 1;\n          position: absolute;\n          top: 45px;\n          width: calc(100% - 8px);\n          margin: 0px 4px;\n          border: 1px solid rgba(0, 0, 0, 0.7);\nbackground-color: #333333;\n        }\n        button#create-new {\n          text-align: start;\n          background-color: #333333;\ncolor: white;\n          border: none;\n          padding: 8px 4px;\n        }\n        button#create-new:hover {\n          background-color: #505050;\n        }\n        .d-none { display: none; }\n        .d-block { display: block;}\n        div#sub.d-flex {\n          display: flex; flex-direction: column;\n          box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.3);\n        }\n        input#search {\n          background-color: #303030;\n          transition: border-color 0.1s;\n          font-size: 1rem;\n          margin: 4px 4px;\n          border-radius: 0px;\n          border: 2px solid #303030;\n          padding: 8px 8px;\n          outline: none;\ncolor: white;\n}    input#search:focus-visible {\nborder: 2px solid rgba(100, 170, 255, 0.7);\noutline-width: 0;\n}\ninput#search.selected {\ncolor: #FF3311;\nborder-color: #FF3311;\n}\n":"\n        div#root {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        }\n        div#sub {\n          z-index: 1;\n          position: absolute;\n          top: 45px;\n          width: calc(100% - 8px);\n          margin: 0px 4px;\n          border: 1px solid #B0B0B0;\nbackground-color: white;\n        }\n        button#create-new {\n          text-align: start;\n          background-color: #FFFFFF;\ncolor: white;\n          border: none;\n          padding: 8px 4px;\n          color:black;\n          font-size: 1rem;\n        }\n        button#create-new:hover {\n          background-color: #F0F0F0;\n        }\n        .d-none { display: none; }\n        .d-block { display: block;}\n        div#sub.d-flex {\n          display: flex; flex-direction: column;\n          box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.1);\n        }\n        input#search {\n          background-color: #FFFFFF;\n          transition: border-color 0.1s;\n          font-size: 1rem;\n          margin: 5px 5px;\n          border-radius: 0px;\n          border: 1px solid #707070;\n          padding: 8px 8px;\n          outline: none;\ncolor: black;\n}    input#search:focus-visible {\nborder: 2px solid rgba(100, 170, 255, 0.7);\nmargin: 4px;\noutline-width: 0;\n}\ninput#search.selected {\ncolor: #FF3311;\nborder-color: #FF3311;\n}\n";const o=this.getAttribute("placeholder")||"type here";n.innerHTML=`\n        <div id="root">\n          <form id="search-form" style="display: flex;">\n            <input id="search" type="text" placeholder=${o} style="width: 100%;" autocomplete="off"/>\n          </form>\n          <div id="sub" class="d-none">\n            <custom-select-view id="select-view" theme=${t}></custom-select-view>\n            <button id="create-new">Create </button>\n          </div>\n        </div>\n`,n.appendChild(e);const i=n.getElementById("search"),s=n.getElementById("search-form");i.oninput=n=>{this.onSearchInputChange(n.target.value)},i.onkeydown=n=>{const e=this.shadowRoot.getElementById("select-view").options;"ArrowUp"===n.key?(this.selectedOptionIndex-=1,this.selectedOptionIndex<0&&(this.selectedOptionIndex=0),this.selectedOptionIndex>=e.length&&(this.selectedOptionIndex=e.length-1),this.onFocus(),this.shadowRoot.getElementById("select-view").setAttribute("selectedoptionindex",this.selectedOptionIndex.toString())):"ArrowDown"===n.key?(this.selectedOptionIndex+=1,this.selectedOptionIndex<0&&(this.selectedOptionIndex=0),this.selectedOptionIndex>=e.length&&(this.selectedOptionIndex=e.length-1),this.onFocus(),this.shadowRoot.getElementById("select-view").setAttribute("selectedoptionindex",this.selectedOptionIndex.toString())):"Escape"===n.key&&this.onBlur()},s.onsubmit=n=>(this.onSearchFormSubmit(),!1),s.onfocus=()=>{this.onFocus()},i.onfocus=()=>{this.onFocus()},this.Options=[{value:0,label:"dog"},{value:1,label:"cat"},{value:2,label:"rabbit"}],i.onblur=()=>{},s.onblur=()=>{},this.options=this.Options,this.onblur=()=>{setTimeout((()=>{this.onBlur()}),10)},this.onfocus=()=>{this.onFocus()},n.getElementById("select-view").addEventListener("option-select",(n=>{const e=n.detail.value;this.onOptionSelected(e)})),this.shadowRoot.getElementById("sub").className="d-none";const r=this.shadowRoot.getElementById("create-new");r.addEventListener("click",(n=>{this.onCreateNewButtonClicked()})),r.className="d-none"}onSearchFormSubmit(){const n=this.shadowRoot.getElementById("select-view");1===this.shadowRoot.getElementById("select-view").options.length?this.onOptionSelected(n.options[0].value):this.selectedOptionIndex>=0&&this.selectedOptionIndex<=this.Options.length?this.onOptionSelected(this.options[this.selectedOptionIndex].value):"d-block"===this.shadowRoot.getElementById("create-new").className&&this.onCreateNewButtonClicked(),this.onBlur()}onCreateNewButtonClicked(){new Array(this.Options);const n={value:this.Options.length,label:this.shadowRoot.getElementById("search").value};this.Options.push(n),this.dispatchEvent(new CustomEvent("selection-options-change",{detail:{options:this.Options}})),this.onOptionSelected(n.value)}onOptionSelected(n){let e="",t=0;for(const o of this.Options)o.value===n&&(e=o.label,this.selectedOptionIndex=t,this.shadowRoot.getElementById("select-view").setAttribute("selectedoptionindex",this.selectedOptionIndex.toString())),t+=1;this.shadowRoot.getElementById("search").value=e,this.dispatchEvent(new CustomEvent("type-select-change",{detail:{value:n}})),this.onBlur()}get currentLabel(){return this.shadowRoot.getElementById("search").value}onFocus(){this.shadowRoot.getElementById("sub").className="d-flex",this.shadowRoot.getElementById("search").focus()}onBlur(){this.shadowRoot.getElementById("search").blur(),this.shadowRoot.getElementById("sub").className="d-none"}setCreateNewButtonDisplay(n,e){const t=this.shadowRoot.getElementById("create-new");t.innerText=`Create: ${e}`,""!==e&&(n.length>1||1!==n.length||n[0].label!==e)?t.className="d-block":t.className="d-none"}onSearchInputChange(n){const e=this.Options.filter((e=>e.label.includes(n)));this.shadowRoot.getElementById("select-view").options=e,this.setCreateNewButtonDisplay(e,n)}set options(n){this.Options=n,this.shadowRoot.getElementById("select-view").options=n}get options(){return this.Options}set value(n){for(const e of this.options)e.value===n&&(this.shadowRoot.getElementById("search").value=e.label)}set selected(n){this.shadowRoot.getElementById("search").className=n?"selected":"not-selected"}}e.TypeSelectView=o},244:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SwitchComponent=void 0;const o=t(288);class i extends o.ComponentBase{constructor(){var n;super(),null===(n=this.shadowRoot.getElementById("container"))||void 0===n||n.addEventListener("click",(()=>{this.toggleOnOff()}))}toggleOnOff(){const n=this.shadowRoot.getElementById("toggle"),e=this.shadowRoot.getElementById("container"),t=n.classList.contains("on");n.className=t?"off":"on",e.className=t?"off":"on",this.dispatchEvent(new CustomEvent("switch-toggle",{detail:{toggleOn:!t}}))}getStyle(){return"\n        div#container{\n          border-radius: 50px;\n          height: 30px;\n          padding: 0px;\n          background-color: #E0E0E0;\n          border: 1px solid #AAAAAA;\n          position: relative;\n          width: 55px;\n          transition: all 0.1s;\n        }\n        div#container.on{\n          background-color: #0077FF;\n        }\n        #toggle{\n          position: absolute;\n          transition: all 0.1s;\n          left: 5px;\n          top: 5px;\n        }\n        span{\n        font-size: 0.65rem;\n        font-family: system-ui;\n        display: inline-flex;\n        align-items: center;\n        height: 100%;\n        font-weight: bold;\n        }\n        span#on{\n        position: absolute;\n        left: 7px;\n        color: white;\n        }\n        span#off{\n        position: absolute;\n        right: 7px;\n        color: #505050;\n        }\n\n        div#container.on span#off{display: none;}\n        div#container.off span#on {display: none;}\n        #toggle.on {\n          left: calc(100% - 25px);\n        }\n        "}renderHTML(){return'\n        <div id="container">\n          <span id="on">ON</span>\n          <span id="off">OFF</span>\n          <div id="toggle">\n          <svg width="20px" height="20px" viewbox="0 0 100 100">\n            <circle cx="50" cy="50" r="50" fill="#FFFFFF" stroke="#303030" stroke-width="2"/>\n          </svg>\n          </div>\n        </div>\n        '}}e.SwitchComponent=i,customElements.define("switch-component",i)},287:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TabSelection=void 0;const o=t(288);class i extends o.ComponentBase{static get observedAttributes(){return["theme","labels","optionindex"]}constructor(){super(),this.currentSelectedIndex=-1,this.renderLabels()}renderLabels(){const n=JSON.parse(this.getAttribute("labels")),e=this.shadowRoot.getElementById("root");if(e.innerText="",this.currentSelectedIndex<0){const n=parseInt(this.getAttribute("optionindex")||"0");this.currentSelectedIndex=n}let t=0;for(const o of n){const n=document.createElement("div"),i=t===this.currentSelectedIndex;n.setAttribute("class","tab-item-container "+(i?"selected":"not-selected")),n.innerHTML=`\n              <button class=${i?"selected":"not-selected"}>${o}</button>\n            `,e.appendChild(n);const s=t;n.addEventListener("click",(()=>{this.currentSelectedIndex=s,this.renderLabels(),this.dispatchEvent(new CustomEvent("option-select",{detail:{index:s,label:o}}))})),t+=1}}getStyle(){return"div#root {\n          display: grid;\n          gap: 0px;\n          grid-auto-columns: 1fr;\n          grid-auto-flow: column;\n          border-radius: 0px;\n        }\n        div#root.dark {\n          background-color: #1F1F1F;\n          border: 1px solid #505050;\n        }\n        div#root.light {\n          background-color: white;;\n          border: 1px solid transparent;\n        }\n        button {\n          appearance: none;\n          margin: 0px;\n          margin-right: auto;\n          margin-left: auto;\n          border: 0px;\n          padding: 4px 8px;\n          font-size: 0.8rem;\n          font-weight: bold;\n          font-family: system-ui;\n        }\n        div.light button {\n          background-color: transparent\n        }\n        div.dark button {\n          background-color: rgba(0, 0, 0, 0.0);\n        }\n        div.dark button.selected{\n          color: rgba(0, 0, 0, 1.0);\n          //background-color: rgba(0, 0, 0, 0.07);\n        }\n        div.dark button.not-selected{\n          color: rgba(255, 255, 255, 0.8);\n          //background-color: rgba(0, 0, 0, 0);\n        }\n        \n\n    div.light button.selected { color: white;}\n    div.light button.not-selected { color: #505050;}\n    div.selected, div.not-selected{\n      display: flex;\n      padding: 0px 4px;\nborder-radius: 0px;\ntransition: background-color 0.1s;\n    }\n    div.dark div.selected {\n      background-color: #AAAAAA;\n    }\n    div.dark div.not-selected {\n      background-color: rgba(0, 0, 0, 0.0);\n\n    }\n    div.dark div.not-selected:hover {\n      background-color: #303030;\n    }\ndiv.light div.not-selected:hover {background-color: rgba(0, 0, 0, 0.05);}\n    div.light div.selected {\nbackground-color: #0077FF;\n}\ndiv.light div.not-selected {\nbackground-color: #F7F7F7;\n}\n\n    "}renderHTML(){return`\n        <div id="root" class=${this.getAttribute("theme")||"light"}>\n        </div>\n        `}}e.TabSelection=i,customElements.define("tab-selection",i)}},e={};!function t(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return n[o](s,s.exports,t),s.exports}(981)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVFBLEVBQU90SSxRQUFTa0ksR0FHL0NJLEVBQU90SSxPQUNmLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93Yy1pdGVtcy8uL3NyYy9iYXNlLnRzIiwid2VicGFjazovL3djLWl0ZW1zLy4vc3JjL2J1dHRvbi50cyIsIndlYnBhY2s6Ly93Yy1pdGVtcy8uL3NyYy9jb2xvcnMudHMiLCJ3ZWJwYWNrOi8vd2MtaXRlbXMvLi9zcmMvaW5wdXRzLnRzIiwid2VicGFjazovL3djLWl0ZW1zLy4vc3JjL2xpbmtDb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vd2MtaXRlbXMvLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly93Yy1pdGVtcy8uL3NyYy9ub3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vd2MtaXRlbXMvLi9zcmMvc2VsZWN0aW9uLnRzIiwid2VicGFjazovL3djLWl0ZW1zLy4vc3JjL3N3aXRjaC50cyIsIndlYnBhY2s6Ly93Yy1pdGVtcy8uL3NyYy90YWJTZWxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vd2MtaXRlbXMvd2VicGFjay9ib290c3RyYXAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbXBvbmVudEJhc2UgPSB2b2lkIDA7XG5jbGFzcyBDb21wb25lbnRCYXNlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSB0aGlzLmdldFN0eWxlKCk7XG4gICAgICAgIHNoYWRvdy5pbm5lckhUTUwgPSB0aGlzLnJlbmRlckhUTUwoKTtcbiAgICAgICAgc2hhZG93LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gICAgcmVuZGVyQWxsKCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSB0aGlzLmdldFN0eWxlKCk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5pbm5lckhUTUwgPSB0aGlzLnJlbmRlckhUTUwoKTtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gICAgZ2V0U3R5bGUoKSB7XG4gICAgICAgIHJldHVybiBgYDtcbiAgICB9XG4gICAgcmVuZGVySFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIGBgO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29tcG9uZW50QmFzZSA9IENvbXBvbmVudEJhc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnV0dG9uSXRlbSA9IHZvaWQgMDtcbmNvbnN0IGJhc2VfMSA9IHJlcXVpcmUoXCIuL2Jhc2VcIik7XG5jbGFzcyBCdXR0b25JdGVtIGV4dGVuZHMgYmFzZV8xLkNvbXBvbmVudEJhc2Uge1xuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4gW1wibGFiZWxcIiwgXCJ0aGVtZVwiLCBcIm9uY2xpY2tcIl07XG4gICAgfVxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZFZhbHVlID09IG5ld1ZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJsYWJlbFwiKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25cIikuaW5uZXJUZXh0ID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLmNsYXNzTmFtZSA9IGBmb2N1cyAke3RoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIil9YDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuY2xhc3NOYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFN0eWxlKCkge1xuICAgICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSAwO1xuICAgICAgICBjb25zdCBib3JkZXJXaWR0aCA9IDA7XG4gICAgICAgIGNvbnN0IGhvdmVyQ29sb3IgPSBcIiM0OTgyREJcIjtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgZGl2I2NvbnRhaW5lciB7XG4gICAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgICBwYWRkaW5nOiAke2JvcmRlcldpZHRofXB4O1xuICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6ICR7Ym9yZGVyUmFkaXVzICsgMX1weDtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXM7XG4gICAgICAgIH1cbiAgICAgICAgZGl2I2NvbnRhaW5lci5mb2N1cyB7XG4gICAgICAgICAgLy8gYm9yZGVyLWNvbG9yOiAjMjY4NEZGNjA7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzI2ODRGRjYwO1xuICAgICAgICB9XG4gICAgICAgIGRpdiNjb250YWluZXIuYmctdHJhbnNwYXJlbnQuZm9jdXMge1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM3MDcwNzA7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9ue1xuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA4OEZGO1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBwYWRkaW5nOiA3cHggMTBweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAke2JvcmRlclJhZGl1cyAtIGJvcmRlcldpZHRofXB4O1xuICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXM7XG4gICAgICAgIH1cbiAgICAgICAgZGl2I2NvbnRhaW5lci5iZy10cmFuc3BhcmVudHtcbiAgICAgICAgICBib3JkZXItd2lkdGg6IDFweDtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24jYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2hvdmVyQ29sb3J9O1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiNidXR0b24uYmctdHJhbnNwYXJlbnQge1xuICAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjNzA3MDcwO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiNidXR0b24uYmctdHJhbnNwYXJlbnQ6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAke2hvdmVyQ29sb3J9O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7aG92ZXJDb2xvcn07XG4gICAgICAgIH1cbiAgICAgICAgYDtcbiAgICB9XG4gICAgcmVuZGVySFRNTCgpIHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmdldEF0dHJpYnV0ZShcImxhYmVsXCIpO1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGlkPVwiY29udGFpbmVyXCIgY2xhc3M9JHt0aGlzLmdldEF0dHJpYnV0ZShcInRoZW1lXCIpfT5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwiYnV0dG9uXCIgY2xhc3M9JHt0aGlzLmdldEF0dHJpYnV0ZShcInRoZW1lXCIpfSBvbmNsaWNrPSR7dGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGlja1wiKX0+JHtsYWJlbH08L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgfVxufVxuZXhwb3J0cy5CdXR0b25JdGVtID0gQnV0dG9uSXRlbTtcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImJ1dHRvbi1jb21wb25lbnRcIiwgQnV0dG9uSXRlbSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29sb3JzID0gdm9pZCAwO1xuY2xhc3MgQ29sb3JzIHtcbn1cbmV4cG9ydHMuQ29sb3JzID0gQ29sb3JzO1xuQ29sb3JzLkJMVUUgPSBcIiMwMDU1RkZcIjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UZXh0SW5wdXQgPSB2b2lkIDA7XG5jb25zdCBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuY29uc3QgY29sb3JzXzEgPSByZXF1aXJlKFwiLi9jb2xvcnNcIik7XG5jbGFzcyBUZXh0SW5wdXQgZXh0ZW5kcyBiYXNlXzEuQ29tcG9uZW50QmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IGNhc2NhZGVFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICAgICAgICAvLyB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImV2ZW50XCIpKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FzY2FkZUV2ZW50LmJpbmQodGhpcyk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInRleHQtaW5wdXRcIik7XG4gICAgICAgIC8vaW5wdXRFbGVtZW50Lm9uaW5wdXQgPSAoZTogRXZlbnQpID0+IHtjYXNjYWRlRXZlbnQoZSl9O1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7IGNhc2NhZGVFdmVudChlKTsgfSk7XG4gICAgICAgIC8vIGlucHV0RWxlbWVudC5vbmtleWRvd24gPSAoZTogRXZlbnQpID0+IHtjYXNjYWRlRXZlbnQoZSl9O1xuICAgICAgICAvLyBpbnB1dEVsZW1lbnQub25rZXl1cCA9IChlOiBFdmVudCkgPT4ge2Nhc2NhZGVFdmVudChlKX07XG4gICAgfVxuICAgIG9uSW5wdXQoZSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm9uIGlucHV0XCIpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgfVxuICAgIGdldFN0eWxlKCkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICBkaXYjcm9vdCB7XG5wYWRkaW5nOiAwcHg7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXR7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgIG1hcmdpbjogNXB4O1xucGFkZGluZzogOHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwcHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM3MDcwNzA7XG50cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xcztcbiAgICAgICAgfVxuICAgICAgICBpbnB1dDpmb2N1cy12aXNpYmxlIHtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHtjb2xvcnNfMS5Db2xvcnMuQkxVRX07XG4gICAgICAgIG1hcmdpbjogNHB4O1xub3V0bGluZTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICBgO1xuICAgIH1cbiAgICByZW5kZXJIVE1MKCkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGlkPVwicm9vdFwiPlxuICAgICAgICAgIDxpbnB1dCBpZD1cInRleHQtaW5wdXRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPSR7dGhpcy5nZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKSB8fCBcIlR5cGVcIn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgfVxufVxuZXhwb3J0cy5UZXh0SW5wdXQgPSBUZXh0SW5wdXQ7XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ0ZXh0LWlucHV0XCIsIFRleHRJbnB1dCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGlua0NvbXBvbmVudCA9IHZvaWQgMDtcbmNvbnN0IGJhc2VfMSA9IHJlcXVpcmUoXCIuL2Jhc2VcIik7XG5jb25zdCBjb2xvcnNfMSA9IHJlcXVpcmUoXCIuL2NvbG9yc1wiKTtcbmNsYXNzIExpbmtDb21wb25lbnQgZXh0ZW5kcyBiYXNlXzEuQ29tcG9uZW50QmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIGdldFN0eWxlKCkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICBhIHtcbiAgICAgICAgICBmb250LWZhbWlseTogc3lzdGVtLXVpO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgY29sb3I6ICR7Y29sb3JzXzEuQ29sb3JzLkJMVUV9O1xuICAgICAgICB9XG4gICAgICAgIGE6aG92ZXIge1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgICAgICB9XG4gICAgICAgIGE6dmlzaXRlZCB7XG4gICAgICAgICAgY29sb3I6ICR7Y29sb3JzXzEuQ29sb3JzLkJMVUV9O1xuICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgfVxuICAgIHJlbmRlckhUTUwoKSB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDxhIGhyZWY9JHt0aGlzLmdldEF0dHJpYnV0ZShcInRvXCIpfT4ke3RoaXMuZ2V0QXR0cmlidXRlKFwibGFiZWxcIil9PC9hPlxuICAgICAgICBgO1xuICAgIH1cbn1cbmV4cG9ydHMuTGlua0NvbXBvbmVudCA9IExpbmtDb21wb25lbnQ7XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJsaW5rLWNvbXBvbmVudFwiLCBMaW5rQ29tcG9uZW50KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DdXN0b21TZWxlY3RWaWV3ID0gZXhwb3J0cy5UeXBlU2VsZWN0VmlldyA9IHZvaWQgMDtcbmNvbnN0IHNlbGVjdGlvbl8xID0gcmVxdWlyZShcIi4vc2VsZWN0aW9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVHlwZVNlbGVjdFZpZXdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlbGVjdGlvbl8xLlR5cGVTZWxlY3RWaWV3OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ3VzdG9tU2VsZWN0Vmlld1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VsZWN0aW9uXzEuQ3VzdG9tU2VsZWN0VmlldzsgfSB9KTtcbnJlcXVpcmUoXCIuL2J1dHRvblwiKTtcbnJlcXVpcmUoXCIuL2xpbmtDb21wb25lbnRcIik7XG5yZXF1aXJlKFwiLi9pbnB1dHNcIik7XG5yZXF1aXJlKFwiLi90YWJTZWxlY3Rpb25cIik7XG5yZXF1aXJlKFwiLi9ub3RpZmljYXRpb25cIik7XG5yZXF1aXJlKFwiLi9zd2l0Y2hcIik7XG4vLyBpbXBvcnQgeyBUYWJTZWxlY3Rpb24gfSBmcm9tICcuL3RhYlNlbGVjdGlvbic7XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJjdXN0b20tc2VsZWN0LXZpZXdcIiwgc2VsZWN0aW9uXzEuQ3VzdG9tU2VsZWN0Vmlldyk7XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ0eXBlLXNlbGVjdC12aWV3XCIsIHNlbGVjdGlvbl8xLlR5cGVTZWxlY3RWaWV3KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ib3Zlck5vdGlmaWNhdGlvbiA9IHZvaWQgMDtcbmNvbnN0IGJhc2VfMSA9IHJlcXVpcmUoXCIuL2Jhc2VcIik7XG5jb25zdCBjb2xvcnNfMSA9IHJlcXVpcmUoXCIuL2NvbG9yc1wiKTtcbmNsYXNzIEhvdmVyTm90aWZpY2F0aW9uIGV4dGVuZHMgYmFzZV8xLkNvbXBvbmVudEJhc2Uge1xuICAgIGdldFN0eWxlKCkge1xuICAgICAgICByZXR1cm4gYFxuZGl2I2NvbnRhaW5lciB7XG5mb250LWZhbWlseTogc3lzdGVtLXVpO1xucG9zaXRpb246IGZpeGVkO1xuYm90dG9tOiAyNHB4O1xucmlnaHQ6IDI0cHg7XG53aWR0aDogMjUwcHg7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjMTAxMDEwO1xuYm9yZGVyLXJhZGl1czogMTZweDtcbmJvcmRlcjogMXB4IHNvbGlkICMzMDMwMzA7XG5ib3gtc2hhZG93OiAwIDAgNXB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG5wYWRkaW5nOiA4cHggOHB4O1xuZGlzcGxheTogZmxleDtcbmZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5kaXYjY29udGFpbmVyLmxpZ2h0IHtcbmJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG5ib3JkZXItY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG5ib3gtc2hhZG93OiAwIDAgNXB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xufVxuc3BhbiB7XG5jb2xvcjogd2hpdGU7XG5mb250LWZhbWlseTogc3lzdGVtLXVpO1xufVxuZGl2I2NvbnRhaW5lci5saWdodCBzcGFuIHsgY29sb3I6IGJsYWNrO31cbnNwYW4jdGl0bGUge1xuZm9udC13ZWlnaHQ6IGJvbGQ7XG5mb250LXNpemU6IDE2cHg7XG59XG5zcGFuI2NvbnRlbnQge1xuZm9udC1zaXplOiAxNHB4O1xuY29sb3I6ICNBMEEwQTA7XG59XG4uZC1ub25lIHtcbmRpc3BsYXk6IG5vbmU7XG59XG4uZC1ibG9jayB7XG5kaXNwbGF5OmJsb2NrO1xufVxuLmQtZmxleHtcbmRpc3BsYXk6IGZsZXg7XG59XG5idXR0b257XG5iYWNrZ3JvdW5kLWNvbG9yOiAjNDk4MkRCO1xuYm9yZGVyLXJhZGl1czogNTBweDtcbmNvbG9yOiB3aGl0ZTtcbmJvcmRlcjogbm9uZTtcbm91dGxpbmU6IG5vbmU7XG5wYWRkaW5nOiA0cHggOHB4O1xufVxuYnV0dG9uI2J1dHRvbi1kaXNtaXNzIHtcbmJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuY29sb3I6ICR7Y29sb3JzXzEuQ29sb3JzLkJMVUV9O1xuYm9yZGVyOiAxcHggc29saWQgJHtjb2xvcnNfMS5Db2xvcnMuQkxVRX07XG59XG5kaXYuZGFyayBidXR0b24jYnV0dG9uLWRpc21pc3Mge1xuY29sb3I6IHdoaXRlO1xuYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cbmRpdiNjb250YWluZXIuZC1ub25lIHtcbmRpc3BsYXk6IG5vbmU7XG59XG5kaXYubGlnaHQgYnV0dG9uI2J1dHRvbi1kaXNtaXNzOmhvdmVyIHtcbmJhY2tncm91bmQtY29sb3I6ICNGMEYwRjA7XG59XG5kaXYuZGFyayBidXR0b24jYnV0dG9uLWRpc21pc3M6aG92ZXIge1xuYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xufVxuYDtcbiAgICB9XG4gICAgcmVuZGVySFRNTCgpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBcIk5vdGlmaWNhdGlvbiBUaXRsZVwiO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gXCJOb3RpZmljYXRpb24gY29udGVudFwiO1xuICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgfHwgXCJsaWdodFwiO1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGlkPVwiY29udGFpbmVyXCIgY2xhc3M9XCIke3RoZW1lfSBkLW5vbmVcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgcGFkZGluZzogOHB4IDhweDtcIj5cbiAgICAgICAgICAgIDxzcGFuIGlkPVwidGl0bGVcIj4ke3RpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGlkPVwiY29udGVudFwiPiR7Y29udGVudH08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjsgZ2FwOiAxNnB4OyBtYXJnaW46IDhweCA4cHg7XCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiYnV0dG9uLW9rXCI+T0s8L2J1dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImJ1dHRvbi1kaXNtaXNzXCI+RGlzbWlzczwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi1kaXNtaXNzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJkaXNtaXNzLWNsaWNrZWRcIikpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uLW9rXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJvay1jbGlja2VkXCIpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNob3codGl0bGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLnNob3dDb250YWluZXIoKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfSwgNTAwMCk7XG4gICAgfVxuICAgIHNldCB0aXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS5pbm5lclRleHQgPSB0aXRsZTtcbiAgICB9XG4gICAgc2V0IG1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpLmlubmVyVGV4dCA9IG1lc3NhZ2U7XG4gICAgfVxuICAgIHNob3dDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKSB8fCBcImxpZ2h0XCI7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5jbGFzc05hbWUgPSBgJHt0aGVtZX1gO1xuICAgIH1cbiAgICBoaWRlKCkge1xuICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgfHwgXCJsaWdodFwiO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuY2xhc3NOYW1lID0gYCR7dGhlbWV9IGQtbm9uZWA7XG4gICAgfVxufVxuZXhwb3J0cy5Ib3Zlck5vdGlmaWNhdGlvbiA9IEhvdmVyTm90aWZpY2F0aW9uO1xuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiaG92ZXItbm90aWZpY2F0aW9uXCIsIEhvdmVyTm90aWZpY2F0aW9uKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UeXBlU2VsZWN0VmlldyA9IGV4cG9ydHMuQ3VzdG9tU2VsZWN0VmlldyA9IHZvaWQgMDtcbmNsYXNzIEN1c3RvbVNlbGVjdFZpZXcgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXCJzZWxlY3RlZG9wdGlvbmluZGV4XCIsIFwidGhlbWVcIl07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmludGVybmFsT3B0aW9ucyA9IFtdO1xuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgPT09IFwiZGFya1wiKSB7XG4gICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMjIyMjI7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweCA4cHg7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidXR0b246aG92ZXIge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZWxlY3RlZCB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzdGRjtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC5kLW5vbmUgeyBkaXNwbGF5OiBub25lOyB9XG4gICAgICAgICAgICAgICAgLmQtYmxvY2sgeyBkaXNwbGF5OiBibG9jazt9XG4gICAgICAgICAgICAgICAgLmQtZmxleCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuYnV0dG9uIHtcbnRleHQtYWxpZ246IHN0YXJ0O1xuYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbmJvcmRlcjogbm9uZTtcbnBhZGRpbmc6IDhweCA4cHg7XG5jb2xvcjogYmxhY2s7XG5mb250LXNpemU6IDFyZW07XG59XG5idXR0b246aG92ZXIge1xuYmFja2dyb3VuZC1jb2xvcjogI0YwRjBGMDtcbn1cbmJ1dHRvbi5zZWxlY3RlZCB7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjMDA3N0ZGO1xuY29sb3I6IHdoaXRlO1xufVxuLmQtbm9uZSB7IGRpc3BsYXk6IG5vbmU7IH1cbi5kLWJsb2NrIHsgZGlzcGxheTogYmxvY2s7fVxuLmQtZmxleCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47fVxufVxuYDtcbiAgICAgICAgfVxuICAgICAgICBzaGFkb3cuaW5uZXJIVE1MID0gYDxkaXY+PGRpdiBpZD1cIm9wdGlvbnMtbGlzdFwiIHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcIj48L2Rpdj48L2Rpdj5gO1xuICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgICByZW5kZXJBbGwoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKSA9PT0gXCJkYXJrXCIpIHtcbiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgICAgICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjIyMjtcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDhweDtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1dHRvbjpob3ZlciB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnV0dG9uLnNlbGVjdGVkIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3N0ZGO1xuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLmQtbm9uZSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgICAgICAgICAgICAuZC1ibG9jayB7IGRpc3BsYXk6IGJsb2NrO31cbiAgICAgICAgICAgICAgICAuZC1mbGV4IHsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjt9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICBgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG5idXR0b24ge1xudGV4dC1hbGlnbjogc3RhcnQ7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuYm9yZGVyOiBub25lO1xucGFkZGluZzogOHB4IDhweDtcbmNvbG9yOiBibGFjaztcbmZvbnQtc2l6ZTogMXJlbTtcbn1cbmJ1dHRvbjpob3ZlciB7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjRjBGMEYwO1xufVxuYnV0dG9uLnNlbGVjdGVkIHtcbmJhY2tncm91bmQtY29sb3I6ICMwMDc3RkY7XG5jb2xvcjogd2hpdGU7XG59XG4uZC1ub25lIHsgZGlzcGxheTogbm9uZTsgfVxuLmQtYmxvY2sgeyBkaXNwbGF5OiBibG9jazt9XG4uZC1mbGV4IHsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjt9XG59XG5gO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5pbm5lckhUTUwgPSBgPGRpdj48ZGl2IGlkPVwib3B0aW9ucy1saXN0XCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1wiPjwvZGl2PjwvZGl2PmA7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICAgIHNldCBvcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBvcHRpb25zTGlzdENvbnRhaW5lciA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcIm9wdGlvbnMtbGlzdFwiKTtcbiAgICAgICAgb3B0aW9uc0xpc3RDb250YWluZXIuaW5uZXJUZXh0ID0gXCJcIjtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgICAgICBvcHRpb25FbGVtZW50LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICBvcHRpb25FbGVtZW50LmlubmVyVGV4dCA9IG9wdGlvbi5sYWJlbDtcbiAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmRlYnVnKFwiZGlzcGF0Y2ggb3B0aW9uLXNlbGVjdFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwib3B0aW9uLXNlbGVjdFwiLCB7IGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gb3B0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJvbmNsaWNrXCIsIFwiYWxlcnQoJ2NsaWNrJylcIik7XG4gICAgICAgICAgICBvcHRpb25zTGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChvcHRpb25FbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmRlYnVnKFwic2V0IG9wdGlvbnNcIik7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE9wdGlvbnM7XG4gICAgfVxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcIik7XG4gICAgICAgIGlmIChuYW1lID09PSBcInNlbGVjdGVkb3B0aW9uaW5kZXhcIikge1xuICAgICAgICAgICAgLy8gcmUtZHJhd1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25JbmRleCA9IHBhcnNlSW50KG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbkluZGV4IDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwib3B0aW9ucy1saXN0XCIpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnV0dG9uXCIpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcIm9wdGlvbnMtbGlzdFwiKS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJ1dHRvblwiKS5sZW5ndGggPiBzZWxlY3RlZE9wdGlvbkluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwib3B0aW9ucy1saXN0XCIpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnV0dG9uXCIpW3NlbGVjdGVkT3B0aW9uSW5kZXhdLmNsYXNzTmFtZSA9IFwic2VsZWN0ZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYW1lID09PSBcInRoZW1lXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWxsKCk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmludGVybmFsT3B0aW9ucztcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ3VzdG9tU2VsZWN0VmlldyA9IEN1c3RvbVNlbGVjdFZpZXc7XG5jbGFzcyBUeXBlU2VsZWN0VmlldyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcInRoZW1lXCIsIFwicGxhY2Vob2xkZXJcIl07XG4gICAgfVxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwidGhlbWVcIikge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJyb290LXN0eWxlXCIpO1xuICAgICAgICAgICAgY29uc3QgdGhlbWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlbGVjdC12aWV3XCIpLnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIHRoZW1lKTtcbiAgICAgICAgICAgIGlmICh0aGVtZSA9PT0gXCJkYXJrXCIpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgZGl2I3Jvb3Qge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgZGl2I3N1YiB7XG4gICAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiA0NXB4O1xuICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA4cHgpO1xuICAgICAgICAgIG1hcmdpbjogMHB4IDRweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuNyk7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiNjcmVhdGUtbmV3IHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xuY29sb3I6IHdoaXRlO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggNHB4O1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiNjcmVhdGUtbmV3OmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTA1MDUwO1xuICAgICAgICB9XG4gICAgICAgIC5kLW5vbmUgeyBkaXNwbGF5OiBub25lOyB9XG4gICAgICAgIC5kLWJsb2NrIHsgZGlzcGxheTogYmxvY2s7fVxuICAgICAgICBkaXYjc3ViLmQtZmxleCB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDAgNXB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQjc2VhcmNoIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAzMDMwO1xuICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjFzO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICBtYXJnaW46IDRweCA0cHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMHB4O1xuICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICMzMDMwMzA7XG4gICAgICAgICAgcGFkZGluZzogOHB4IDhweDtcbiAgICAgICAgICBvdXRsaW5lOiBub25lO1xuY29sb3I6IHdoaXRlO1xufSAgICBpbnB1dCNzZWFyY2g6Zm9jdXMtdmlzaWJsZSB7XG5ib3JkZXI6IDJweCBzb2xpZCByZ2JhKDEwMCwgMTcwLCAyNTUsIDAuNyk7XG5vdXRsaW5lLXdpZHRoOiAwO1xufVxuaW5wdXQjc2VhcmNoLnNlbGVjdGVkIHtcbmNvbG9yOiAjRkYzMzExO1xuYm9yZGVyLWNvbG9yOiAjRkYzMzExO1xufVxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgICBkaXYjcm9vdCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBkaXYjc3ViIHtcbiAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDQ1cHg7XG4gICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDhweCk7XG4gICAgICAgICAgbWFyZ2luOiAwcHggNHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNCMEIwQjA7XG5iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24jY3JlYXRlLW5ldyB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbmNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgcGFkZGluZzogOHB4IDRweDtcbiAgICAgICAgICBjb2xvcjpibGFjaztcbiAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uI2NyZWF0ZS1uZXc6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGMEYwRjA7XG4gICAgICAgIH1cbiAgICAgICAgLmQtbm9uZSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgICAgLmQtYmxvY2sgeyBkaXNwbGF5OiBibG9jazt9XG4gICAgICAgIGRpdiNzdWIuZC1mbGV4IHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA1cHggNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCNzZWFyY2gge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMXM7XG4gICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICAgIG1hcmdpbjogNXB4IDVweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwcHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzcwNzA3MDtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggOHB4O1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG5jb2xvcjogYmxhY2s7XG59ICAgIGlucHV0I3NlYXJjaDpmb2N1cy12aXNpYmxlIHtcbmJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMTAwLCAxNzAsIDI1NSwgMC43KTtcbm1hcmdpbjogNHB4O1xub3V0bGluZS13aWR0aDogMDtcbn1cbmlucHV0I3NlYXJjaC5zZWxlY3RlZCB7XG5jb2xvcjogI0ZGMzMxMTtcbmJvcmRlci1jb2xvcjogI0ZGMzMxMTtcbn1cbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdCA9IG5ldyBTaGFkb3dSb290KCk7XG4gICAgICAgIHRoaXMuT3B0aW9ucyA9IFtcbiAgICAgICAgICAgIHsgdmFsdWU6IDAsIGxhYmVsOiBcImRvZ1wiIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAxLCBsYWJlbDogXCJjYXRcIiB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogMiwgbGFiZWw6IFwicmFiYml0XCIgfSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4ID0gLTE7XG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogXCJvcGVuXCIgfSk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInJvb3Qtc3R5bGVcIik7XG4gICAgICAgIGNvbnN0IHRoZW1lID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKTtcbiAgICAgICAgaWYgKHRoZW1lID09PSBcImRhcmtcIikge1xuICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAgIGRpdiNyb290IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGRpdiNzdWIge1xuICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogNDVweDtcbiAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gOHB4KTtcbiAgICAgICAgICBtYXJnaW46IDBweCA0cHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjcpO1xuYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcbiAgICAgICAgfVxuICAgICAgICBidXR0b24jY3JlYXRlLW5ldyB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcbmNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgcGFkZGluZzogOHB4IDRweDtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24jY3JlYXRlLW5ldzpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzUwNTA1MDtcbiAgICAgICAgfVxuICAgICAgICAuZC1ub25lIHsgZGlzcGxheTogbm9uZTsgfVxuICAgICAgICAuZC1ibG9jayB7IGRpc3BsYXk6IGJsb2NrO31cbiAgICAgICAgZGl2I3N1Yi5kLWZsZXgge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAwIDVweCA1cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0I3NlYXJjaCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMwMzAzMDtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xcztcbiAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgbWFyZ2luOiA0cHggNHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDBweDtcbiAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjMzAzMDMwO1xuICAgICAgICAgIHBhZGRpbmc6IDhweCA4cHg7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbmNvbG9yOiB3aGl0ZTtcbn0gICAgaW5wdXQjc2VhcmNoOmZvY3VzLXZpc2libGUge1xuYm9yZGVyOiAycHggc29saWQgcmdiYSgxMDAsIDE3MCwgMjU1LCAwLjcpO1xub3V0bGluZS13aWR0aDogMDtcbn1cbmlucHV0I3NlYXJjaC5zZWxlY3RlZCB7XG5jb2xvcjogI0ZGMzMxMTtcbmJvcmRlci1jb2xvcjogI0ZGMzMxMTtcbn1cbmA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgZGl2I3Jvb3Qge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgZGl2I3N1YiB7XG4gICAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiA0NXB4O1xuICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA4cHgpO1xuICAgICAgICAgIG1hcmdpbjogMHB4IDRweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjQjBCMEIwO1xuYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uI2NyZWF0ZS1uZXcge1xuICAgICAgICAgIHRleHQtYWxpZ246IHN0YXJ0O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG5jb2xvcjogd2hpdGU7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIHBhZGRpbmc6IDhweCA0cHg7XG4gICAgICAgICAgY29sb3I6YmxhY2s7XG4gICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiNjcmVhdGUtbmV3OmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjBGMEYwO1xuICAgICAgICB9XG4gICAgICAgIC5kLW5vbmUgeyBkaXNwbGF5OiBub25lOyB9XG4gICAgICAgIC5kLWJsb2NrIHsgZGlzcGxheTogYmxvY2s7fVxuICAgICAgICBkaXYjc3ViLmQtZmxleCB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDAgNXB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQjc2VhcmNoIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjFzO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICBtYXJnaW46IDVweCA1cHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM3MDcwNzA7XG4gICAgICAgICAgcGFkZGluZzogOHB4IDhweDtcbiAgICAgICAgICBvdXRsaW5lOiBub25lO1xuY29sb3I6IGJsYWNrO1xufSAgICBpbnB1dCNzZWFyY2g6Zm9jdXMtdmlzaWJsZSB7XG5ib3JkZXI6IDJweCBzb2xpZCByZ2JhKDEwMCwgMTcwLCAyNTUsIDAuNyk7XG5tYXJnaW46IDRweDtcbm91dGxpbmUtd2lkdGg6IDA7XG59XG5pbnB1dCNzZWFyY2guc2VsZWN0ZWQge1xuY29sb3I6ICNGRjMzMTE7XG5ib3JkZXItY29sb3I6ICNGRjMzMTE7XG59XG5gO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKSB8fCBcInR5cGUgaGVyZVwiO1xuICAgICAgICBzaGFkb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGlkPVwicm9vdFwiPlxuICAgICAgICAgIDxmb3JtIGlkPVwic2VhcmNoLWZvcm1cIiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7XCI+XG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJzZWFyY2hcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPSR7cGxhY2Vob2xkZXJ9IHN0eWxlPVwid2lkdGg6IDEwMCU7XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICA8ZGl2IGlkPVwic3ViXCIgY2xhc3M9XCJkLW5vbmVcIj5cbiAgICAgICAgICAgIDxjdXN0b20tc2VsZWN0LXZpZXcgaWQ9XCJzZWxlY3Qtdmlld1wiIHRoZW1lPSR7dGhlbWV9PjwvY3VzdG9tLXNlbGVjdC12aWV3PlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNyZWF0ZS1uZXdcIj5DcmVhdGUgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuYDtcbiAgICAgICAgc2hhZG93LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgICAgY29uc3Qgc2VhcmNoRWxlbWVudCA9IHNoYWRvdy5nZXRFbGVtZW50QnlJZChcInNlYXJjaFwiKTtcbiAgICAgICAgY29uc3Qgc2VhcmNoRm9ybUVsZW1lbnQgPSBzaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2gtZm9ybVwiKTtcbiAgICAgICAgc2VhcmNoRWxlbWVudC5vbmlucHV0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm9uaW5wdXRcIik7XG4gICAgICAgICAgICB0aGlzLm9uU2VhcmNoSW5wdXRDaGFuZ2UoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VhcmNoRWxlbWVudC5vbmtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwib24ga2V5IGRvd25cIik7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZE9wdGlvbnMgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3Qtdmlld1wiKS5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggLT0gMTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4IDwgMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4ID49IGZpbHRlcmVkT3B0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA9IGZpbHRlcmVkT3B0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlYXJjaFwiKS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgLy8gc2V0VGltZW91dCgoKT0+e3RoaXMub25Gb2N1cygpO30sIDIwKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRm9jdXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3Qtdmlld1wiKS5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZG9wdGlvbmluZGV4XCIsIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggPCAwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggPj0gZmlsdGVyZWRPcHRpb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4ID0gZmlsdGVyZWRPcHRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLmJsdXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRm9jdXMoKTtcbiAgICAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpPT57dGhpcy5vbkZvY3VzKCk7fSwgMjApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlbGVjdC12aWV3XCIpLnNldEF0dHJpYnV0ZShcInNlbGVjdGVkb3B0aW9uaW5kZXhcIiwgdGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkJsdXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2VhcmNoRm9ybUVsZW1lbnQub25zdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25TZWFyY2hGb3JtU3VibWl0KCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHNlYXJjaEZvcm1FbGVtZW50Lm9uZm9jdXMgPSAoKSA9PiB7IHRoaXMub25Gb2N1cygpOyB9O1xuICAgICAgICBzZWFyY2hFbGVtZW50Lm9uZm9jdXMgPSAoKSA9PiB7IHRoaXMub25Gb2N1cygpOyB9O1xuICAgICAgICB0aGlzLk9wdGlvbnMgPSBbXG4gICAgICAgICAgICB7IHZhbHVlOiAwLCBsYWJlbDogXCJkb2dcIiB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogMSwgbGFiZWw6IFwiY2F0XCIgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IDIsIGxhYmVsOiBcInJhYmJpdFwiIH0sXG4gICAgICAgIF07XG4gICAgICAgIHNlYXJjaEVsZW1lbnQub25ibHVyID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzZWFyY2ggYmx1clwiKTtcbiAgICAgICAgICAgIC8vdGhpcy5vbkJsdXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VhcmNoRm9ybUVsZW1lbnQub25ibHVyID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzZWFyY2ggZm9ybSBibHVyXCIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLk9wdGlvbnM7XG4gICAgICAgIHRoaXMub25ibHVyID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0aGlzIGJsdXJcIik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQmx1cigpO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgLy8gdGhpcy5vbkJsdXIoKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uZm9jdXMgPSAoKSA9PiB7IHRoaXMub25Gb2N1cygpOyB9O1xuICAgICAgICBjb25zdCBzZWxlY3RWaWV3ID0gc2hhZG93LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0LXZpZXdcIik7XG4gICAgICAgIHNlbGVjdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcIm9wdGlvbi1zZWxlY3RcIiwgKChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5kZWJ1ZyhcInJlY2VpdmVkIG9wdGlvbi1zZWxlY3RcIik7XG4gICAgICAgICAgICAvLyBCVUc6IHNhZmFyaeOBp+OBr2lucHV044Gr44OV44Kp44O844Kr44K544GM44GC44Gj44Gf44Gm44GE44KL44Go44CB44Kv44Oq44OD44Kv44Kk44OZ44Oz44OI44GM6LW344GN44Gq44GE44CCXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZXZlbnQuZGV0YWlsLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5vbk9wdGlvblNlbGVjdGVkKChzZWxlY3RlZFZhbHVlKSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic3ViXCIpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiZGlzcGxheTogbm9uZTtcIik7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInN1YlwiKS5jbGFzc05hbWUgPSBcImQtbm9uZVwiO1xuICAgICAgICBjb25zdCBjcmVhdGVOZXdCdXR0b24gPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjcmVhdGUtbmV3XCIpO1xuICAgICAgICBjcmVhdGVOZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4geyB0aGlzLm9uQ3JlYXRlTmV3QnV0dG9uQ2xpY2tlZCgpOyB9KTtcbiAgICAgICAgY3JlYXRlTmV3QnV0dG9uLmNsYXNzTmFtZSA9IFwiZC1ub25lXCI7XG4gICAgfVxuICAgIG9uU2VhcmNoRm9ybVN1Ym1pdCgpIHtcbiAgICAgICAgLy8gY3JlYXRlIG9yIHNldFxuICAgICAgICBjb25zdCBzZWxlY3RWaWV3ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0LXZpZXdcIik7XG4gICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3Qtdmlld1wiKS5vcHRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5vbk9wdGlvblNlbGVjdGVkKHNlbGVjdFZpZXcub3B0aW9uc1swXVtcInZhbHVlXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggPj0gMCAmJiB0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggPD0gdGhpcy5PcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5vbk9wdGlvblNlbGVjdGVkKHRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXhdW1widmFsdWVcIl0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZS1uZXdcIikuY2xhc3NOYW1lID09PSBcImQtYmxvY2tcIikge1xuICAgICAgICAgICAgICAgIHRoaXMub25DcmVhdGVOZXdCdXR0b25DbGlja2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkJsdXIoKTtcbiAgICB9XG4gICAgb25DcmVhdGVOZXdCdXR0b25DbGlja2VkKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gbmV3IEFycmF5KHRoaXMuT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5ld09wdGlvbiA9IHtcbiAgICAgICAgICAgIFwidmFsdWVcIjogdGhpcy5PcHRpb25zLmxlbmd0aCxcbiAgICAgICAgICAgIFwibGFiZWxcIjogdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLnZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBvcHRpb25zLmxlbmd0aD0ke3RoaXMuT3B0aW9ucy5sZW5ndGh9YCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld09wdGlvbik7XG4gICAgICAgIC8vIG9wdGlvbnMucHVzaChuZXdPcHRpb24pO1xuICAgICAgICB0aGlzLk9wdGlvbnMucHVzaChuZXdPcHRpb24pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwic2VsZWN0aW9uLW9wdGlvbnMtY2hhbmdlXCIsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMuT3B0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMub25PcHRpb25TZWxlY3RlZChuZXdPcHRpb24udmFsdWUpO1xuICAgIH1cbiAgICBvbk9wdGlvblNlbGVjdGVkKHZhbHVlKSB7XG4gICAgICAgIGxldCBsYWJlbCA9IFwiXCI7XG4gICAgICAgIGxldCBvcHRpb25JbmRleCA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIHRoaXMuT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IG9wdGlvbi5sYWJlbDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggPSBvcHRpb25JbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3Qtdmlld1wiKS5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZG9wdGlvbmluZGV4XCIsIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbkluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLnZhbHVlID0gbGFiZWw7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJ0eXBlLXNlbGVjdC1jaGFuZ2VcIiwgeyBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICB0aGlzLm9uQmx1cigpO1xuICAgIH1cbiAgICBnZXQgY3VycmVudExhYmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLnZhbHVlO1xuICAgIH1cbiAgICBvbkZvY3VzKCkge1xuICAgICAgICAvLyB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzdWJcIikuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJkaXNwbGF5OiBibG9jaztcIik7XG4gICAgICAgIC8vIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInN1YlwiKS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImRpc3BsYXk6IGZsZXg7XCIpO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzdWJcIikuY2xhc3NOYW1lID0gXCJkLWZsZXhcIjtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLmZvY3VzKCk7XG4gICAgfVxuICAgIG9uQmx1cigpIHtcbiAgICAgICAgLy8gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic3ViXCIpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiZGlzcGxheTogbm9uZTtcIik7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlYXJjaFwiKS5ibHVyKCk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInN1YlwiKS5jbGFzc05hbWUgPSBcImQtbm9uZVwiO1xuICAgIH1cbiAgICBzZXRDcmVhdGVOZXdCdXR0b25EaXNwbGF5KGZpbHRlcmVkT3B0aW9ucywgc2VhcmNoUXVlcnkpIHtcbiAgICAgICAgY29uc3QgY3JlYXRlTmV3QnV0dG9uID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY3JlYXRlLW5ld1wiKTtcbiAgICAgICAgY3JlYXRlTmV3QnV0dG9uLmlubmVyVGV4dCA9IGBDcmVhdGU6ICR7c2VhcmNoUXVlcnl9YDtcbiAgICAgICAgaWYgKHNlYXJjaFF1ZXJ5ID09PSBcIlwiKSB7XG4gICAgICAgICAgICBjcmVhdGVOZXdCdXR0b24uY2xhc3NOYW1lID0gXCJkLW5vbmVcIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVyZWRPcHRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0J1dHRvbi5jbGFzc05hbWUgPSBcImQtYmxvY2tcIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyZWRPcHRpb25zWzBdW1wibGFiZWxcIl0gPT09IHNlYXJjaFF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlTmV3QnV0dG9uLmNsYXNzTmFtZSA9IFwiZC1ub25lXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNyZWF0ZU5ld0J1dHRvbi5jbGFzc05hbWUgPSBcImQtYmxvY2tcIjtcbiAgICB9XG4gICAgb25TZWFyY2hJbnB1dENoYW5nZShzZWFyY2hRdWVyeSkge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZE9wdGlvbnMgPSB0aGlzLk9wdGlvbnMuZmlsdGVyKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25bXCJsYWJlbFwiXS5pbmNsdWRlcyhzZWFyY2hRdWVyeSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3Qtdmlld1wiKS5vcHRpb25zID0gZmlsdGVyZWRPcHRpb25zO1xuICAgICAgICB0aGlzLnNldENyZWF0ZU5ld0J1dHRvbkRpc3BsYXkoZmlsdGVyZWRPcHRpb25zLCBzZWFyY2hRdWVyeSk7XG4gICAgICAgIC8vIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZS1uZXdcIikuaW5uZXJUZXh0ID0gYOaWsOimj+S9nOaIkDogJHtzZWFyY2hRdWVyeX1gO1xuICAgIH1cbiAgICBzZXQgb3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlbGVjdC12aWV3XCIpLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuT3B0aW9ucztcbiAgICB9XG4gICAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIHRoaXMub3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbltcInZhbHVlXCJdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlYXJjaFwiKS52YWx1ZSA9IG9wdGlvbltcImxhYmVsXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldCBzZWxlY3RlZChzZWxlY3RlZCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNldCBzZWxlY3RlZFwiKTtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLmNsYXNzTmFtZSA9IHNlbGVjdGVkID8gXCJzZWxlY3RlZFwiIDogXCJub3Qtc2VsZWN0ZWRcIjtcbiAgICB9XG59XG5leHBvcnRzLlR5cGVTZWxlY3RWaWV3ID0gVHlwZVNlbGVjdFZpZXc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3dpdGNoQ29tcG9uZW50ID0gdm9pZCAwO1xuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbmNsYXNzIFN3aXRjaENvbXBvbmVudCBleHRlbmRzIGJhc2VfMS5Db21wb25lbnRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvLyBjb25zdCB0b2dnbGVFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwidG9nZ2xlXCIpO1xuICAgICAgICAvLyB0b2dnbGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIC8vICAgICB0aGlzLnRvZ2dsZU9uT2ZmKCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICAoX2EgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLnRvZ2dsZU9uT2ZmKCk7IH0pO1xuICAgIH1cbiAgICB0b2dnbGVPbk9mZigpIHtcbiAgICAgICAgY29uc3QgdG9nZ2xlRWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZVwiKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyRWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKTtcbiAgICAgICAgY29uc3QgdG9nZ2xlT24gPSB0b2dnbGVFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm9uXCIpO1xuICAgICAgICB0b2dnbGVFbGVtZW50LmNsYXNzTmFtZSA9IHRvZ2dsZU9uID8gXCJvZmZcIiA6IFwib25cIjtcbiAgICAgICAgY29udGFpbmVyRWxlbWVudC5jbGFzc05hbWUgPSB0b2dnbGVPbiA/IFwib2ZmXCIgOiBcIm9uXCI7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJzd2l0Y2gtdG9nZ2xlXCIsIHsgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlT246ICF0b2dnbGVPblxuICAgICAgICAgICAgfSB9KSk7XG4gICAgfVxuICAgIGdldFN0eWxlKCkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICBkaXYjY29udGFpbmVye1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gICAgICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTBFMEUwO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNBQUFBQUE7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIHdpZHRoOiA1NXB4O1xuICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjFzO1xuICAgICAgICB9XG4gICAgICAgIGRpdiNjb250YWluZXIub257XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzdGRjtcbiAgICAgICAgfVxuICAgICAgICAjdG9nZ2xle1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcztcbiAgICAgICAgICBsZWZ0OiA1cHg7XG4gICAgICAgICAgdG9wOiA1cHg7XG4gICAgICAgIH1cbiAgICAgICAgc3BhbntcbiAgICAgICAgZm9udC1zaXplOiAwLjY1cmVtO1xuICAgICAgICBmb250LWZhbWlseTogc3lzdGVtLXVpO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgfVxuICAgICAgICBzcGFuI29ue1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IDdweDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICB9XG4gICAgICAgIHNwYW4jb2Zme1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHJpZ2h0OiA3cHg7XG4gICAgICAgIGNvbG9yOiAjNTA1MDUwO1xuICAgICAgICB9XG5cbiAgICAgICAgZGl2I2NvbnRhaW5lci5vbiBzcGFuI29mZntkaXNwbGF5OiBub25lO31cbiAgICAgICAgZGl2I2NvbnRhaW5lci5vZmYgc3BhbiNvbiB7ZGlzcGxheTogbm9uZTt9XG4gICAgICAgICN0b2dnbGUub24ge1xuICAgICAgICAgIGxlZnQ6IGNhbGMoMTAwJSAtIDI1cHgpO1xuICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgfVxuICAgIHJlbmRlckhUTUwoKSB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDxkaXYgaWQ9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8c3BhbiBpZD1cIm9uXCI+T048L3NwYW4+XG4gICAgICAgICAgPHNwYW4gaWQ9XCJvZmZcIj5PRkY8L3NwYW4+XG4gICAgICAgICAgPGRpdiBpZD1cInRvZ2dsZVwiPlxuICAgICAgICAgIDxzdmcgd2lkdGg9XCIyMHB4XCIgaGVpZ2h0PVwiMjBweFwiIHZpZXdib3g9XCIwIDAgMTAwIDEwMFwiPlxuICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCI1MFwiIGZpbGw9XCIjRkZGRkZGXCIgc3Ryb2tlPVwiIzMwMzAzMFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgIH1cbn1cbmV4cG9ydHMuU3dpdGNoQ29tcG9uZW50ID0gU3dpdGNoQ29tcG9uZW50O1xuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwic3dpdGNoLWNvbXBvbmVudFwiLCBTd2l0Y2hDb21wb25lbnQpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRhYlNlbGVjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IGJhc2VfMSA9IHJlcXVpcmUoXCIuL2Jhc2VcIik7XG5jbGFzcyBUYWJTZWxlY3Rpb24gZXh0ZW5kcyBiYXNlXzEuQ29tcG9uZW50QmFzZSB7XG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiBbXCJ0aGVtZVwiLCBcImxhYmVsc1wiLCBcIm9wdGlvbmluZGV4XCJdO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLnJlbmRlckxhYmVscygpO1xuICAgIH1cbiAgICByZW5kZXJMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoXCJsYWJlbHNcIikpO1xuICAgICAgICBjb25zdCByb290RWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInJvb3RcIik7XG4gICAgICAgIHJvb3RFbGVtZW50LmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTZWxlY3RlZEluZGV4IDwgMCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwib3B0aW9uaW5kZXhcIikgfHwgXCIwXCIpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBsYWJlbCBvZiBsYWJlbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFNlbGVjdGVkID0gKGluZGV4ID09PSB0aGlzLmN1cnJlbnRTZWxlY3RlZEluZGV4KTtcbiAgICAgICAgICAgIGxhYmVsRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBgdGFiLWl0ZW0tY29udGFpbmVyICR7bGFiZWxTZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnbm90LXNlbGVjdGVkJ31gKTtcbiAgICAgICAgICAgIGxhYmVsRWxlbWVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9JHtsYWJlbFNlbGVjdGVkID8gXCJzZWxlY3RlZFwiIDogXCJub3Qtc2VsZWN0ZWRcIn0+JHtsYWJlbH08L2J1dHRvbj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpO1xuICAgICAgICAgICAgY29uc3QgZmluYWxJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgbGFiZWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0ZWRJbmRleCA9IGZpbmFsSW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJMYWJlbHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwib3B0aW9uLXNlbGVjdFwiLCB7IGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGZpbmFsSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U3R5bGUoKSB7XG4gICAgICAgIHJldHVybiBgZGl2I3Jvb3Qge1xuICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgZ2FwOiAwcHg7XG4gICAgICAgICAgZ3JpZC1hdXRvLWNvbHVtbnM6IDFmcjtcbiAgICAgICAgICBncmlkLWF1dG8tZmxvdzogY29sdW1uO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDBweDtcbiAgICAgICAgfVxuICAgICAgICBkaXYjcm9vdC5kYXJrIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUYxRjFGO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM1MDUwNTA7XG4gICAgICAgIH1cbiAgICAgICAgZGl2I3Jvb3QubGlnaHQge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOztcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24ge1xuICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgICAgIGJvcmRlcjogMHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aTtcbiAgICAgICAgfVxuICAgICAgICBkaXYubGlnaHQgYnV0dG9uIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudFxuICAgICAgICB9XG4gICAgICAgIGRpdi5kYXJrIGJ1dHRvbiB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjApO1xuICAgICAgICB9XG4gICAgICAgIGRpdi5kYXJrIGJ1dHRvbi5zZWxlY3RlZHtcbiAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAxLjApO1xuICAgICAgICAgIC8vYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjA3KTtcbiAgICAgICAgfVxuICAgICAgICBkaXYuZGFyayBidXR0b24ubm90LXNlbGVjdGVke1xuICAgICAgICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XG4gICAgICAgICAgLy9iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIFxuXG4gICAgZGl2LmxpZ2h0IGJ1dHRvbi5zZWxlY3RlZCB7IGNvbG9yOiB3aGl0ZTt9XG4gICAgZGl2LmxpZ2h0IGJ1dHRvbi5ub3Qtc2VsZWN0ZWQgeyBjb2xvcjogIzUwNTA1MDt9XG4gICAgZGl2LnNlbGVjdGVkLCBkaXYubm90LXNlbGVjdGVke1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIHBhZGRpbmc6IDBweCA0cHg7XG5ib3JkZXItcmFkaXVzOiAwcHg7XG50cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMXM7XG4gICAgfVxuICAgIGRpdi5kYXJrIGRpdi5zZWxlY3RlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjQUFBQUFBO1xuICAgIH1cbiAgICBkaXYuZGFyayBkaXYubm90LXNlbGVjdGVkIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wKTtcblxuICAgIH1cbiAgICBkaXYuZGFyayBkaXYubm90LXNlbGVjdGVkOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMDMwMzA7XG4gICAgfVxuZGl2LmxpZ2h0IGRpdi5ub3Qtc2VsZWN0ZWQ6aG92ZXIge2JhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7fVxuICAgIGRpdi5saWdodCBkaXYuc2VsZWN0ZWQge1xuYmFja2dyb3VuZC1jb2xvcjogIzAwNzdGRjtcbn1cbmRpdi5saWdodCBkaXYubm90LXNlbGVjdGVkIHtcbmJhY2tncm91bmQtY29sb3I6ICNGN0Y3Rjc7XG59XG5cbiAgICBgO1xuICAgICAgICAvLyByZXR1cm4gYFxuICAgICAgICAvLyBkaXYjcm9vdHtcbiAgICAgICAgLy8gICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAvLyAgIGdyaWQtYXV0by1jb2x1bW5zOiAxZnI7XG4gICAgICAgIC8vICAgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBkaXYudGFiLWl0ZW0tY29udGFpbmVyIHtcbiAgICAgICAgLy8gICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAvLyAgIGp1c3RpZnktaXRlbXM6IHN0cmV0Y2g7XG4gICAgICAgIC8vICAgcGFkZGluZzogMHB4IDhweDtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBkaXYudGFiLWl0ZW0tY29udGFpbmVyLnNlbGVjdGVkIHtcbiAgICAgICAgLy8gICBib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gZGl2LnRhYi1pdGVtLWNvbnRhaW5lciBidXR0b24ge1xuICAgICAgICAvLyAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAvLyAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG4gICAgICAgIC8vICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgLy8gICBib3JkZXI6IG5vbmU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gZGl2LnRhYi1pdGVtLWNvbnRhaW5lciBidXR0b246aG92ZXIge1xuICAgICAgICAvLyAgIGJhY2tncm91bmQtY29sb3I6ICNGMEYwRjA7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gICBgO1xuICAgIH1cbiAgICByZW5kZXJIVE1MKCkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGlkPVwicm9vdFwiIGNsYXNzPSR7dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKSB8fCBcImxpZ2h0XCJ9PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICB9XG59XG5leHBvcnRzLlRhYlNlbGVjdGlvbiA9IFRhYlNlbGVjdGlvbjtcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcInRhYi1zZWxlY3Rpb25cIiwgVGFiU2VsZWN0aW9uKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJDb21wb25lbnRCYXNlIiwiSFRNTEVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwic2hhZG93IiwidGhpcyIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJzdHlsZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwiZ2V0U3R5bGUiLCJpbm5lckhUTUwiLCJyZW5kZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJBbGwiLCJzaGFkb3dSb290IiwiQnV0dG9uSXRlbSIsImJhc2VfMSIsIm9ic2VydmVkQXR0cmlidXRlcyIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIm5hbWUiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lclRleHQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NOYW1lIiwiZ2V0QXR0cmlidXRlIiwiaG92ZXJDb2xvciIsImxhYmVsIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJDb2xvcnMiLCJCTFVFIiwiVGV4dElucHV0IiwiY29sb3JzXzEiLCJjYXNjYWRlRXZlbnQiLCJldmVudCIsImNvbnNvbGUiLCJsb2ciLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJiaW5kIiwiZSIsIm9uSW5wdXQiLCJMaW5rQ29tcG9uZW50Iiwic2VsZWN0aW9uXzEiLCJDdXN0b21TZWxlY3RWaWV3IiwiVHlwZVNlbGVjdFZpZXciLCJIb3Zlck5vdGlmaWNhdGlvbiIsImhpZGUiLCJzaG93IiwidGl0bGUiLCJtZXNzYWdlIiwic2hvd0NvbnRhaW5lciIsInNldFRpbWVvdXQiLCJ0aGVtZSIsImludGVybmFsT3B0aW9ucyIsIm9wdGlvbnMiLCJvcHRpb25zTGlzdENvbnRhaW5lciIsIm9wdGlvbiIsIm9wdGlvbkVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJkZXRhaWwiLCJkZWJ1ZyIsInNlbGVjdGVkT3B0aW9uSW5kZXgiLCJwYXJzZUludCIsImVsZW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIlNoYWRvd1Jvb3QiLCJPcHRpb25zIiwicGxhY2Vob2xkZXIiLCJzZWFyY2hFbGVtZW50Iiwic2VhcmNoRm9ybUVsZW1lbnQiLCJvbmlucHV0Iiwib25TZWFyY2hJbnB1dENoYW5nZSIsInRhcmdldCIsIm9ua2V5ZG93biIsImZpbHRlcmVkT3B0aW9ucyIsImtleSIsIm9uRm9jdXMiLCJ0b1N0cmluZyIsIm9uQmx1ciIsIm9uc3VibWl0Iiwib25TZWFyY2hGb3JtU3VibWl0Iiwib25mb2N1cyIsIm9uYmx1ciIsInNlbGVjdGVkVmFsdWUiLCJvbk9wdGlvblNlbGVjdGVkIiwiY3JlYXRlTmV3QnV0dG9uIiwib25DcmVhdGVOZXdCdXR0b25DbGlja2VkIiwic2VsZWN0VmlldyIsIkFycmF5IiwibmV3T3B0aW9uIiwicHVzaCIsIm9wdGlvbkluZGV4IiwiY3VycmVudExhYmVsIiwiZm9jdXMiLCJibHVyIiwic2V0Q3JlYXRlTmV3QnV0dG9uRGlzcGxheSIsInNlYXJjaFF1ZXJ5IiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJzZWxlY3RlZCIsIlN3aXRjaENvbXBvbmVudCIsIl9hIiwidG9nZ2xlT25PZmYiLCJ0b2dnbGVFbGVtZW50IiwiY29udGFpbmVyRWxlbWVudCIsInRvZ2dsZU9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJUYWJTZWxlY3Rpb24iLCJjdXJyZW50U2VsZWN0ZWRJbmRleCIsInJlbmRlckxhYmVscyIsImxhYmVscyIsIkpTT04iLCJwYXJzZSIsInJvb3RFbGVtZW50Iiwic2VsZWN0ZWRJbmRleCIsImluZGV4IiwibGFiZWxFbGVtZW50IiwibGFiZWxTZWxlY3RlZCIsImZpbmFsSW5kZXgiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sInNvdXJjZVJvb3QiOiIifQ==