(()=>{"use strict";var n={653:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentBase=void 0;class t extends HTMLElement{constructor(){super();const n=this.attachShadow({mode:"open"}),e=document.createElement("style");e.textContent=this.getStyle(),n.innerHTML=this.renderHTML(),n.appendChild(e)}renderAll(){const n=document.createElement("style");n.textContent=this.getStyle(),this.shadowRoot.innerHTML=this.renderHTML(),this.shadowRoot.appendChild(n)}getStyle(){return""}renderHTML(){return""}}e.ComponentBase=t},881:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonItem=void 0;const o=t(653);class i extends o.ComponentBase{static get observedAttributes(){return["label","theme","onclick"]}attributeChangedCallback(n,e,t){e!=t&&"label"===n&&(this.shadowRoot.getElementById("button").innerText=t)}constructor(){super(),this.shadowRoot.getElementById("button").addEventListener("focus",(()=>{this.shadowRoot.getElementById("container").className=`focus ${this.getAttribute("theme")}`})),this.shadowRoot.getElementById("button").addEventListener("blur",(()=>{this.shadowRoot.getElementById("container").className=this.getAttribute("theme")}))}getStyle(){return"\n        div#container {\n          width:100%;\n          padding: 0px;\n          border: 2px solid transparent;\n          border-radius: 1px;\n          transition: background-color 0.1s;\n        }\n        div#container.focus {\n          // border-color: #2684FF60;\n          border: 2px solid #2684FF60;\n        }\n        div#container.bg-transparent.focus {\n          border: 1px solid #707070;\n        }\n        button{\n          font-size: 1rem;\n          width: 100%;\n          background-color: #0088FF;\n          color: white;\n          padding: 7px 10px;\n          border-radius: 0px;\n          border: 2px solid transparent;\n          appearance: none;\n          outline: none;\n          transition: background-color 0.1s;\n        }\n        div#container.bg-transparent{\n          border-width: 1px;\n        }\n        button#button:hover {\n          background-color: #4982DB;\n        }\n        button#button.bg-transparent {\n          color: black;\n          background-color: transparent;\n          border: 2px solid #707070;\n        }\n        button#button.bg-transparent:hover {\n          background-color: rgba(0, 0, 0, 0.05);\n        }\n        button:focus {\n          border: 2px solid #4982DB;\n          background-color: #4982DB;\n        }\n        "}renderHTML(){const n=this.getAttribute("label");return`\n        <div id="container" class=${this.getAttribute("theme")}>\n          <button id="button" class=${this.getAttribute("theme")} onclick=${this.getAttribute("click")}>${n}</button>\n        </div>\n        `}}e.ButtonItem=i,customElements.define("button-component",i)},550:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Colors=void 0;class t{}e.Colors=t,t.BLUE="#0055FF"},483:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextInput=void 0;const o=t(653),i=t(550);class s extends o.ComponentBase{constructor(){super();const n=n=>{console.log(this),this.dispatchEvent(new CustomEvent("event"))};n.bind(this),this.shadowRoot.getElementById("text-input").addEventListener("click",(e=>{n()}))}onInput(n){this.dispatchEvent(n)}getStyle(){return`\n        div#root {\npadding: 0px;\n        }\n        input{\n        background-color: transparent;\n        font-size: 1rem;\n        margin: 5px;\npadding: 8px;\n        border-radius: 0px;\n        border: 1px solid #707070;\ntransition: border-color 0.1s;\n        }\n        input:focus-visible {\n        border: 2px solid ${i.Colors.BLUE};\n        margin: 4px;\noutline: none;\n        }\n        `}renderHTML(){return`\n        <div id="root">\n          <input id="text-input" type="text" placeholder=${this.getAttribute("placeholder")||"Type"} />\n        </div>\n        `}}e.TextInput=s,customElements.define("text-input",s)},723:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkComponent=void 0;const o=t(653),i=t(550);class s extends o.ComponentBase{constructor(){super()}getStyle(){return`\n        a {\n          font-family: system-ui;\n          font-size: 1rem;\n          text-decoration: none;\n          color: ${i.Colors.BLUE};\n        }\n        a:hover {\n          text-decoration: underline;\n        }\n        a:visited {\n          color: ${i.Colors.BLUE};\n        }\n        `}renderHTML(){return`\n        <a href=${this.getAttribute("to")}>${this.getAttribute("label")}</a>\n        `}}e.LinkComponent=s,customElements.define("link-component",s)},519:(n,e,t)=>{const o=t(522);t(881),t(723),t(483),t(541),t(66),t(54),customElements.define("custom-select-view",o.CustomSelectView),customElements.define("type-select-view",o.TypeSelectView)},66:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HoverNotification=void 0;const o=t(653),i=t(550);class s extends o.ComponentBase{getStyle(){return`\ndiv#container {\nfont-family: system-ui;\nposition: fixed;\nbottom: 24px;\nright: 24px;\nwidth: 250px;\nbackground-color: #101010;\nborder-radius: 16px;\nborder: 1px solid #303030;\nbox-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.1);\npadding: 8px 8px;\ndisplay: flex;\nflex-direction: column;\n}\ndiv#container.light {\nbackground-color: #FFFFFF;\nborder-color: rgba(0, 0, 0, 0.15);\nbox-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.05);\n}\nspan {\ncolor: white;\nfont-family: system-ui;\n}\ndiv#container.light span { color: black;}\nspan#title {\nfont-weight: bold;\nfont-size: 16px;\n}\nspan#content {\nfont-size: 14px;\ncolor: #A0A0A0;\n}\n.d-none {\ndisplay: none;\n}\n.d-block {\ndisplay:block;\n}\n.d-flex{\ndisplay: flex;\n}\nbutton{\nbackground-color: #4982DB;\nborder-radius: 50px;\ncolor: white;\nborder: none;\noutline: none;\npadding: 4px 8px;\n}\nbutton#button-dismiss {\nbackground-color: transparent;\ncolor: ${i.Colors.BLUE};\nborder: 1px solid ${i.Colors.BLUE};\n}\ndiv.dark button#button-dismiss {\ncolor: white;\nbackground-color: rgba(255, 255, 255, 0.2);\nborder-color: transparent;\n}\ndiv#container.d-none {\ndisplay: none;\n}\ndiv.light button#button-dismiss:hover {\nbackground-color: #F0F0F0;\n}\ndiv.dark button#button-dismiss:hover {\nbackground-color: rgba(255, 255, 255, 0.1);\n}\n`}renderHTML(){return`\n        <div id="container" class="${this.getAttribute("theme")||"light"} d-none">\n          <div style="display: flex; flex-direction: column; padding: 8px 8px;">\n            <span id="title">Notification Title</span>\n            <span id="content">Notification content</span>\n          </div>\n          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 8px 8px;">\n            <button id="button-ok">OK</buton>\n            <button id="button-dismiss">Dismiss</button>\n          </div>\n        </div>\n        `}constructor(){super(),this.shadowRoot.getElementById("button-dismiss").addEventListener("click",(()=>{this.hide(),this.dispatchEvent(new CustomEvent("dismiss-clicked"))})),this.shadowRoot.getElementById("button-ok").addEventListener("click",(()=>{this.hide(),this.dispatchEvent(new CustomEvent("ok-clicked"))}))}show(n,e){this.title=n,this.message=e,this.showContainer(),setTimeout((()=>{this.hide()}),5e3)}set title(n){this.shadowRoot.getElementById("title").innerText=n}set message(n){this.shadowRoot.getElementById("content").innerText=n}showContainer(){const n=this.getAttribute("theme")||"light";this.shadowRoot.getElementById("container").className=`${n}`}hide(){const n=this.getAttribute("theme")||"light";this.shadowRoot.getElementById("container").className=`${n} d-none`}}e.HoverNotification=s,customElements.define("hover-notification",s)},522:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeSelectView=e.CustomSelectView=void 0;class t extends HTMLElement{constructor(){super(),this.internalOptions=[];const n=this.attachShadow({mode:"open"}),e=document.createElement("style");"dark"===this.getAttribute("theme")?e.textContent="\n                button {\n                  font-size: 1rem;\n                text-align: start;\n                background-color: #222222;\n                border: none;\n                padding: 8px 8px;\n                color: white;\n                }\n                button:hover {\n                background-color: #333333;\n                }\n                button.selected {\n                background-color: #0077FF;\n                color: white;\n                }\n                .d-none { display: none; }\n                .d-block { display: block;}\n                .d-flex { display: flex; flex-direction: column;}\n                }\n           ":e.textContent="\nbutton {\ntext-align: start;\nbackground-color: #FFFFFF;\nborder: none;\npadding: 8px 8px;\ncolor: black;\nfont-size: 1rem;\n}\nbutton:hover {\nbackground-color: #F0F0F0;\n}\nbutton.selected {\nbackground-color: #0077FF;\ncolor: white;\n}\n.d-none { display: none; }\n.d-block { display: block;}\n.d-flex { display: flex; flex-direction: column;}\n}\n",n.innerHTML='<div><div id="options-list" style="display: flex; flex-direction: column;"></div></div>',n.appendChild(e)}static get observedAttributes(){return["selectedoptionindex","theme"]}renderAll(){const n=document.createElement("style");"dark"===this.getAttribute("theme")?n.textContent="\n                button {\n                  font-size: 1rem;\n                text-align: start;\n                background-color: #222222;\n                border: none;\n                padding: 8px 8px;\n                color: white;\n                }\n                button:hover {\n                background-color: #333333;\n                }\n                button.selected {\n                background-color: #0077FF;\n                color: white;\n                }\n                .d-none { display: none; }\n                .d-block { display: block;}\n                .d-flex { display: flex; flex-direction: column;}\n                }\n           ":n.textContent="\nbutton {\ntext-align: start;\nbackground-color: #FFFFFF;\nborder: none;\npadding: 8px 8px;\ncolor: black;\nfont-size: 1rem;\n}\nbutton:hover {\nbackground-color: #F0F0F0;\n}\nbutton.selected {\nbackground-color: #0077FF;\ncolor: white;\n}\n.d-none { display: none; }\n.d-block { display: block;}\n.d-flex { display: flex; flex-direction: column;}\n}\n",this.shadowRoot.innerHTML='<div><div id="options-list" style="display: flex; flex-direction: column;"></div></div>',this.shadowRoot.appendChild(n)}set options(n){this.internalOptions=n;const e=this.shadowRoot.getElementById("options-list");e.innerText="";for(const t of n){const n=document.createElement("button");n.setAttribute("value",t.value),n.innerText=t.label,n.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("option-select",{detail:{value:t.value}}))})),e.appendChild(n)}console.debug("set options")}get options(){return this.internalOptions}attributeChangedCallback(n,e,t){if("selectedoptionindex"===n){const n=parseInt(t);if(n<0)return;for(const n of this.shadowRoot.getElementById("options-list").getElementsByTagName("button"))n.className="";this.shadowRoot.getElementById("options-list").getElementsByTagName("button").length>n&&(this.shadowRoot.getElementById("options-list").getElementsByTagName("button")[n].className="selected")}else"theme"===n&&this.renderAll()}}e.CustomSelectView=t;class o extends HTMLElement{constructor(){super(),this.Options=[{value:0,label:"dog"},{value:1,label:"cat"},{value:2,label:"rabbit"}],this.selectedOptionIndex=-1;const n=this.attachShadow({mode:"open"}),e=document.createElement("style");e.setAttribute("id","root-style");const t=this.getAttribute("theme");e.textContent="dark"===t?"\n        div#root {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        }\n        div#sub {\n          z-index: 1;\n          position: absolute;\n          top: 45px;\n          width: calc(100% - 8px);\n          margin: 0px 4px;\n          border: 1px solid rgba(0, 0, 0, 0.7);\nbackground-color: #333333;\n        }\n        button#create-new {\n          text-align: start;\n          background-color: #333333;\ncolor: white;\n          border: none;\n          padding: 8px 4px;\n        }\n        button#create-new:hover {\n          background-color: #505050;\n        }\n        .d-none { display: none; }\n        .d-block { display: block;}\n        div#sub.d-flex {\n          display: flex; flex-direction: column;\n          box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.3);\n        }\n        input#search {\n          background-color: #303030;\n          transition: border-color 0.1s;\n          font-size: 1rem;\n          margin: 4px 4px;\n          border-radius: 0px;\n          border: 2px solid #303030;\n          padding: 8px 8px;\n          outline: none;\ncolor: white;\n}    input#search:focus-visible {\nborder: 2px solid rgba(100, 170, 255, 0.7);\noutline-width: 0;\n}\ninput#search.selected {\ncolor: #FF3311;\nborder-color: #FF3311;\n}\n":"\n        div#root {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        }\n        div#sub {\n          z-index: 1;\n          position: absolute;\n          top: 45px;\n          width: calc(100% - 8px);\n          margin: 0px 4px;\n          border: 1px solid #B0B0B0;\nbackground-color: white;\n        }\n        button#create-new {\n          text-align: start;\n          background-color: #FFFFFF;\ncolor: white;\n          border: none;\n          padding: 8px 4px;\n          color:black;\n          font-size: 1rem;\n        }\n        button#create-new:hover {\n          background-color: #F0F0F0;\n        }\n        .d-none { display: none; }\n        .d-block { display: block;}\n        div#sub.d-flex {\n          display: flex; flex-direction: column;\n          box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.1);\n        }\n        input#search {\n          background-color: #FFFFFF;\n          transition: border-color 0.1s;\n          font-size: 1rem;\n          margin: 5px 5px;\n          border-radius: 0px;\n          border: 1px solid #707070;\n          padding: 8px 8px;\n          outline: none;\ncolor: black;\n}    input#search:focus-visible {\nborder: 2px solid rgba(100, 170, 255, 0.7);\nmargin: 4px;\noutline-width: 0;\n}\ninput#search.selected {\ncolor: #FF3311;\nborder-color: #FF3311;\n}\n";const o=this.getAttribute("placeholder")||"type here";n.innerHTML=`\n        <div id="root">\n          <form id="search-form" style="display: flex;">\n            <input id="search" type="text" placeholder=${o} style="width: 100%;" autocomplete="off"/>\n          </form>\n          <div id="sub" class="d-none">\n            <custom-select-view id="select-view" theme=${t}></custom-select-view>\n            <button id="create-new">Create </button>\n          </div>\n        </div>\n`,n.appendChild(e);const i=n.getElementById("search"),s=n.getElementById("search-form");i.oninput=n=>{this.onSearchInputChange(n.target.value)},i.onkeydown=n=>{const e=this.shadowRoot.getElementById("select-view").options;"ArrowUp"===n.key?(this.selectedOptionIndex-=1,this.selectedOptionIndex<0&&(this.selectedOptionIndex=0),this.selectedOptionIndex>=e.length&&(this.selectedOptionIndex=e.length-1),this.onFocus(),this.shadowRoot.getElementById("select-view").setAttribute("selectedoptionindex",this.selectedOptionIndex.toString())):"ArrowDown"===n.key?(this.selectedOptionIndex+=1,this.selectedOptionIndex<0&&(this.selectedOptionIndex=0),this.selectedOptionIndex>=e.length&&(this.selectedOptionIndex=e.length-1),this.onFocus(),this.shadowRoot.getElementById("select-view").setAttribute("selectedoptionindex",this.selectedOptionIndex.toString())):"Escape"===n.key&&this.onBlur()},s.onsubmit=n=>(this.onSearchFormSubmit(),!1),s.onfocus=()=>{this.onFocus()},i.onfocus=()=>{this.onFocus()},this.Options=[{value:0,label:"dog"},{value:1,label:"cat"},{value:2,label:"rabbit"}],i.onblur=()=>{},s.onblur=()=>{},this.options=this.Options,this.onblur=()=>{setTimeout((()=>{this.onBlur()}),10)},this.onfocus=()=>{this.onFocus()},n.getElementById("select-view").addEventListener("option-select",(n=>{const e=n.detail.value;this.onOptionSelected(e)})),this.shadowRoot.getElementById("sub").className="d-none";const r=this.shadowRoot.getElementById("create-new");r.addEventListener("click",(n=>{this.onCreateNewButtonClicked()})),r.className="d-none"}static get observedAttributes(){return["theme","placeholder"]}attributeChangedCallback(n,e,t){if(e!==t&&"theme"===n){const n=this.shadowRoot.getElementById("root-style"),e=t;this.shadowRoot.getElementById("select-view").setAttribute("theme",e),n.textContent="dark"===e?"\n        div#root {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        }\n        div#sub {\n          z-index: 1;\n          position: absolute;\n          top: 45px;\n          width: calc(100% - 8px);\n          margin: 0px 4px;\n          border: 1px solid rgba(0, 0, 0, 0.7);\nbackground-color: #333333;\n        }\n        button#create-new {\n          text-align: start;\n          background-color: #333333;\ncolor: white;\n          border: none;\n          padding: 8px 4px;\n        }\n        button#create-new:hover {\n          background-color: #505050;\n        }\n        .d-none { display: none; }\n        .d-block { display: block;}\n        div#sub.d-flex {\n          display: flex; flex-direction: column;\n          box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.3);\n        }\n        input#search {\n          background-color: #303030;\n          transition: border-color 0.1s;\n          font-size: 1rem;\n          margin: 4px 4px;\n          border-radius: 0px;\n          border: 2px solid #303030;\n          padding: 8px 8px;\n          outline: none;\ncolor: white;\n}    input#search:focus-visible {\nborder: 2px solid rgba(100, 170, 255, 0.7);\noutline-width: 0;\n}\ninput#search.selected {\ncolor: #FF3311;\nborder-color: #FF3311;\n}\n":"\n        div#root {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        }\n        div#sub {\n          z-index: 1;\n          position: absolute;\n          top: 45px;\n          width: calc(100% - 8px);\n          margin: 0px 4px;\n          border: 1px solid #B0B0B0;\nbackground-color: white;\n        }\n        button#create-new {\n          text-align: start;\n          background-color: #FFFFFF;\ncolor: white;\n          border: none;\n          padding: 8px 4px;\n          color:black;\n          font-size: 1rem;\n        }\n        button#create-new:hover {\n          background-color: #F0F0F0;\n        }\n        .d-none { display: none; }\n        .d-block { display: block;}\n        div#sub.d-flex {\n          display: flex; flex-direction: column;\n          box-shadow: 0 0 5px 5px rgba(0, 0, 0, 0.1);\n        }\n        input#search {\n          background-color: #FFFFFF;\n          transition: border-color 0.1s;\n          font-size: 1rem;\n          margin: 5px 5px;\n          border-radius: 0px;\n          border: 1px solid #707070;\n          padding: 8px 8px;\n          outline: none;\ncolor: black;\n}    input#search:focus-visible {\nborder: 2px solid rgba(100, 170, 255, 0.7);\nmargin: 4px;\noutline-width: 0;\n}\ninput#search.selected {\ncolor: #FF3311;\nborder-color: #FF3311;\n}\n"}}onSearchFormSubmit(){const n=this.shadowRoot.getElementById("select-view");1===this.shadowRoot.getElementById("select-view").options.length?this.onOptionSelected(n.options[0].value):this.selectedOptionIndex>=0&&this.selectedOptionIndex<=this.Options.length?this.onOptionSelected(this.options[this.selectedOptionIndex].value):"d-block"===this.shadowRoot.getElementById("create-new").className&&this.onCreateNewButtonClicked(),this.onBlur()}onCreateNewButtonClicked(){new Array(this.Options);const n={value:this.Options.length,label:this.shadowRoot.getElementById("search").value};this.Options.push(n),this.dispatchEvent(new CustomEvent("selection-options-change",{detail:{options:this.Options}})),this.onOptionSelected(n.value)}onOptionSelected(n){let e="",t=0;for(const o of this.Options)o.value===n&&(e=o.label,this.selectedOptionIndex=t,this.shadowRoot.getElementById("select-view").setAttribute("selectedoptionindex",this.selectedOptionIndex.toString())),t+=1;this.shadowRoot.getElementById("search").value=e,this.dispatchEvent(new CustomEvent("type-select-change",{detail:{value:n}})),this.onBlur()}get currentLabel(){return this.shadowRoot.getElementById("search").value}onFocus(){this.shadowRoot.getElementById("sub").className="d-flex",this.shadowRoot.getElementById("search").focus()}onBlur(){this.shadowRoot.getElementById("search").blur(),this.shadowRoot.getElementById("sub").className="d-none"}setCreateNewButtonDisplay(n,e){const t=this.shadowRoot.getElementById("create-new");t.innerText=`Create: ${e}`,""!==e&&(n.length>1||1!==n.length||n[0].label!==e)?t.className="d-block":t.className="d-none"}onSearchInputChange(n){const e=this.Options.filter((e=>e.label.includes(n)));this.shadowRoot.getElementById("select-view").options=e,this.setCreateNewButtonDisplay(e,n)}set options(n){this.Options=n,this.shadowRoot.getElementById("select-view").options=n}get options(){return this.Options}set value(n){for(const e of this.options)e.value===n&&(this.shadowRoot.getElementById("search").value=e.label)}set selected(n){this.shadowRoot.getElementById("search").className=n?"selected":"not-selected"}}e.TypeSelectView=o},54:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SwitchComponent=void 0;const o=t(653);class i extends o.ComponentBase{constructor(){super(),this.shadowRoot.getElementById("container").addEventListener("click",(()=>{this.toggleOnOff()}))}toggleOnOff(){const n=this.shadowRoot.getElementById("toggle"),e=this.shadowRoot.getElementById("container"),t=n.classList.contains("on");n.className=t?"off":"on",e.className=t?"off":"on"}getStyle(){return"\n        div#container{\n          border-radius: 50px;\n          height: 30px;\n          padding: 0px;\n          background-color: #E0E0E0;\n          border: 1px solid #AAAAAA;\n          position: relative;\n          width: 55px;\n          transition: all 0.1s;\n        }\n        div#container.on{\n          background-color: #0077FF;\n        }\n        #toggle{\n          position: absolute;\n          transition: all 0.1s;\n          left: 5px;\n          top: 5px;\n        }\n        span{\n        font-size: 0.65rem;\n        display: inline-flex;\n        align-items: center;\n        height: 100%;\n        font-weight: bold;\n        }\n        span#on{\n        position: absolute;\n        left: 7px;\n        color: white;\n        }\n        span#off{\n        position: absolute;\n        right: 7px;\n        color: #505050;\n        }\n\n        div#container.on span#off{display: none;}\n        div#container.off span#on {display: none;}\n        #toggle.on {\n          left: calc(100% - 25px);\n        }\n        "}renderHTML(){return'\n        <div id="container">\n          <span id="on">ON</span>\n          <span id="off">OFF</span>\n          <div id="toggle">\n          <svg width="20px" height="20px" viewbox="0 0 100 100">\n            <circle cx="50" cy="50" r="50" fill="#FFFFFF" stroke="#303030" stroke-width="2"/>\n          </svg>\n          </div>\n        </div>\n        '}}e.SwitchComponent=i,customElements.define("switch-component",i)},541:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TabSelection=void 0;const o=t(653);class i extends o.ComponentBase{constructor(){super(),this.currentSelectedIndex=-1,this.renderLabels()}static get observedAttributes(){return["theme","labels","optionindex"]}renderLabels(){const n=JSON.parse(this.getAttribute("labels")),e=this.shadowRoot.getElementById("root");if(e.innerText="",this.currentSelectedIndex<0){const n=parseInt(this.getAttribute("optionindex")||"0");this.currentSelectedIndex=n}let t=0;for(const o of n){const n=document.createElement("div"),i=t===this.currentSelectedIndex;n.setAttribute("class","tab-item-container "+(i?"selected":"not-selected")),n.innerHTML=`\n              <button class=${i?"selected":"not-selected"}>${o}</button>\n            `,e.appendChild(n);const s=t;n.addEventListener("click",(()=>{this.currentSelectedIndex=s,this.renderLabels(),this.dispatchEvent(new CustomEvent("option-select",{detail:{index:s,label:o}}))})),t+=1}}getStyle(){return"div#root {\n          display: grid;\n          gap: 0px;\n          grid-auto-columns: 1fr;\n          grid-auto-flow: column;\n          border-radius: 0px;\n        }\n        div#root.dark {\n          background-color: #1F1F1F;\n          border: 1px solid #505050;\n        }\n        div#root.light {\n          background-color: white;;\n          border: 1px solid transparent;\n        }\n        button {\n          appearance: none;\n          margin: 0px;\n          margin-right: auto;\n          margin-left: auto;\n          border: 0px;\n          padding: 4px 8px;\n          font-size: 0.8rem;\n          font-weight: bold;\n          font-family: system-ui;\n        }\n        div.light button {\n          background-color: transparent\n        }\n        div.dark button {\n          background-color: rgba(0, 0, 0, 0.0);\n        }\n        div.dark button.selected{\n          color: rgba(0, 0, 0, 1.0);\n          //background-color: rgba(0, 0, 0, 0.07);\n        }\n        div.dark button.not-selected{\n          color: rgba(255, 255, 255, 0.8);\n          //background-color: rgba(0, 0, 0, 0);\n        }\n        \n\n    div.light button.selected { color: white;}\n    div.light button.not-selected { color: #505050;}\n    div.selected, div.not-selected{\n      display: flex;\n      padding: 0px 4px;\nborder-radius: 0px;\ntransition: background-color 0.1s;\n    }\n    div.dark div.selected {\n      background-color: #AAAAAA;\n    }\n    div.dark div.not-selected {\n      background-color: rgba(0, 0, 0, 0.0);\n\n    }\n    div.dark div.not-selected:hover {\n      background-color: #303030;\n    }\ndiv.light div.not-selected:hover {background-color: rgba(0, 0, 0, 0.05);}\n    div.light div.selected {\nbackground-color: #0077FF;\n}\ndiv.light div.not-selected {\nbackground-color: #F7F7F7;\n}\n\n    "}renderHTML(){return`\n        <div id="root" class=${this.getAttribute("theme")||"light"}>\n        </div>\n        `}}e.TabSelection=i,customElements.define("tab-selection",i)}},e={};!function t(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return n[o](s,s.exports,t),s.exports}(519)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsR0FHakI1RyxXQUNJLE1BQU8saXpEQThGWEUsYUFDSSxNQUFPLGtDQUNnQlQsS0FBS3dCLGFBQWEsVUFBWSxzQ0FLN0QvQixFQUFRa0gsYUFBZUEsRUFDdkJqRixlQUFlQyxPQUFPLGdCQUFpQmdGLEtDaEpuQ1ksRUFBMkIsSUFHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYWpJLFFBR3JCLElBQUltSSxFQUFTTCxFQUF5QkUsR0FBWSxDQUdqRGhJLFFBQVMsSUFPVixPQUhBb0ksRUFBb0JKLEdBQVVHLEVBQVFBLEVBQU9uSSxRQUFTK0gsR0FHL0NJLEVBQU9uSSxRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2MtaXRlbXMvLi9zcmMvYmFzZS50cyIsIndlYnBhY2s6Ly93Yy1pdGVtcy8uL3NyYy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vd2MtaXRlbXMvLi9zcmMvY29sb3JzLnRzIiwid2VicGFjazovL3djLWl0ZW1zLy4vc3JjL2lucHV0cy50cyIsIndlYnBhY2s6Ly93Yy1pdGVtcy8uL3NyYy9saW5rQ29tcG9uZW50LnRzIiwid2VicGFjazovL3djLWl0ZW1zLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vd2MtaXRlbXMvLi9zcmMvbm90aWZpY2F0aW9uLnRzIiwid2VicGFjazovL3djLWl0ZW1zLy4vc3JjL3NlbGVjdGlvbi50cyIsIndlYnBhY2s6Ly93Yy1pdGVtcy8uL3NyYy9zd2l0Y2gudHMiLCJ3ZWJwYWNrOi8vd2MtaXRlbXMvLi9zcmMvdGFiU2VsZWN0aW9uLnRzIiwid2VicGFjazovL3djLWl0ZW1zL3dlYnBhY2svYm9vdHN0cmFwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21wb25lbnRCYXNlID0gdm9pZCAwO1xuY2xhc3MgQ29tcG9uZW50QmFzZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiBcIm9wZW5cIiB9KTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gdGhpcy5nZXRTdHlsZSgpO1xuICAgICAgICBzaGFkb3cuaW5uZXJIVE1MID0gdGhpcy5yZW5kZXJIVE1MKCk7XG4gICAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICAgIHJlbmRlckFsbCgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gdGhpcy5nZXRTdHlsZSgpO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuaW5uZXJIVE1MID0gdGhpcy5yZW5kZXJIVE1MKCk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICAgIGdldFN0eWxlKCkge1xuICAgICAgICByZXR1cm4gYGA7XG4gICAgfVxuICAgIHJlbmRlckhUTUwoKSB7XG4gICAgICAgIHJldHVybiBgYDtcbiAgICB9XG59XG5leHBvcnRzLkNvbXBvbmVudEJhc2UgPSBDb21wb25lbnRCYXNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1dHRvbkl0ZW0gPSB2b2lkIDA7XG5jb25zdCBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuY2xhc3MgQnV0dG9uSXRlbSBleHRlbmRzIGJhc2VfMS5Db21wb25lbnRCYXNlIHtcbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcImxhYmVsXCIsIFwidGhlbWVcIiwgXCJvbmNsaWNrXCJdO1xuICAgIH1cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChvbGRWYWx1ZSA9PSBuZXdWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwibGFiZWxcIikge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uXCIpLmlubmVyVGV4dCA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5jbGFzc05hbWUgPSBgZm9jdXMgJHt0aGlzLmdldEF0dHJpYnV0ZShcInRoZW1lXCIpfWA7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLmNsYXNzTmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRTdHlsZSgpIHtcbiAgICAgICAgY29uc3QgYm9yZGVyUmFkaXVzID0gMDtcbiAgICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSAwO1xuICAgICAgICBjb25zdCBob3ZlckNvbG9yID0gXCIjNDk4MkRCXCI7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIGRpdiNjb250YWluZXIge1xuICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgICAgcGFkZGluZzogJHtib3JkZXJXaWR0aH1weDtcbiAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAke2JvcmRlclJhZGl1cyArIDF9cHg7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzO1xuICAgICAgICB9XG4gICAgICAgIGRpdiNjb250YWluZXIuZm9jdXMge1xuICAgICAgICAgIC8vIGJvcmRlci1jb2xvcjogIzI2ODRGRjYwO1xuICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICMyNjg0RkY2MDtcbiAgICAgICAgfVxuICAgICAgICBkaXYjY29udGFpbmVyLmJnLXRyYW5zcGFyZW50LmZvY3VzIHtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjNzA3MDcwO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbntcbiAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwODhGRjtcbiAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgcGFkZGluZzogN3B4IDEwcHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogJHtib3JkZXJSYWRpdXMgLSBib3JkZXJXaWR0aH1weDtcbiAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzO1xuICAgICAgICB9XG4gICAgICAgIGRpdiNjb250YWluZXIuYmctdHJhbnNwYXJlbnR7XG4gICAgICAgICAgYm9yZGVyLXdpZHRoOiAxcHg7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uI2J1dHRvbjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtob3ZlckNvbG9yfTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24jYnV0dG9uLmJnLXRyYW5zcGFyZW50IHtcbiAgICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzcwNzA3MDtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24jYnV0dG9uLmJnLXRyYW5zcGFyZW50OmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjpmb2N1cyB7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHtob3ZlckNvbG9yfTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2hvdmVyQ29sb3J9O1xuICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgfVxuICAgIHJlbmRlckhUTUwoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJsYWJlbFwiKTtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBpZD1cImNvbnRhaW5lclwiIGNsYXNzPSR7dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKX0+XG4gICAgICAgICAgPGJ1dHRvbiBpZD1cImJ1dHRvblwiIGNsYXNzPSR7dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKX0gb25jbGljaz0ke3RoaXMuZ2V0QXR0cmlidXRlKFwiY2xpY2tcIil9PiR7bGFiZWx9PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgIH1cbn1cbmV4cG9ydHMuQnV0dG9uSXRlbSA9IEJ1dHRvbkl0ZW07XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJidXR0b24tY29tcG9uZW50XCIsIEJ1dHRvbkl0ZW0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbG9ycyA9IHZvaWQgMDtcbmNsYXNzIENvbG9ycyB7XG59XG5leHBvcnRzLkNvbG9ycyA9IENvbG9ycztcbkNvbG9ycy5CTFVFID0gXCIjMDA1NUZGXCI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGV4dElucHV0ID0gdm9pZCAwO1xuY29uc3QgYmFzZV8xID0gcmVxdWlyZShcIi4vYmFzZVwiKTtcbmNvbnN0IGNvbG9yc18xID0gcmVxdWlyZShcIi4vY29sb3JzXCIpO1xuY2xhc3MgVGV4dElucHV0IGV4dGVuZHMgYmFzZV8xLkNvbXBvbmVudEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBjb25zdCBjYXNjYWRlRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgICAgICAgLy8gdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJldmVudFwiKSk7XG4gICAgICAgIH07XG4gICAgICAgIGNhc2NhZGVFdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXh0LWlucHV0XCIpO1xuICAgICAgICAvL2lucHV0RWxlbWVudC5vbmlucHV0ID0gKGU6IEV2ZW50KSA9PiB7Y2FzY2FkZUV2ZW50KGUpfTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4geyBjYXNjYWRlRXZlbnQoZSk7IH0pO1xuICAgICAgICAvLyBpbnB1dEVsZW1lbnQub25rZXlkb3duID0gKGU6IEV2ZW50KSA9PiB7Y2FzY2FkZUV2ZW50KGUpfTtcbiAgICAgICAgLy8gaW5wdXRFbGVtZW50Lm9ua2V5dXAgPSAoZTogRXZlbnQpID0+IHtjYXNjYWRlRXZlbnQoZSl9O1xuICAgIH1cbiAgICBvbklucHV0KGUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJvbiBpbnB1dFwiKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUpO1xuICAgIH1cbiAgICBnZXRTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgZGl2I3Jvb3Qge1xucGFkZGluZzogMHB4O1xuICAgICAgICB9XG4gICAgICAgIGlucHV0e1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICBtYXJnaW46IDVweDtcbnBhZGRpbmc6IDhweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjNzA3MDcwO1xudHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMXM7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQ6Zm9jdXMtdmlzaWJsZSB7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICR7Y29sb3JzXzEuQ29sb3JzLkJMVUV9O1xuICAgICAgICBtYXJnaW46IDRweDtcbm91dGxpbmU6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgYDtcbiAgICB9XG4gICAgcmVuZGVySFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBpZD1cInJvb3RcIj5cbiAgICAgICAgICA8aW5wdXQgaWQ9XCJ0ZXh0LWlucHV0XCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj0ke3RoaXMuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikgfHwgXCJUeXBlXCJ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgIH1cbn1cbmV4cG9ydHMuVGV4dElucHV0ID0gVGV4dElucHV0O1xuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwidGV4dC1pbnB1dFwiLCBUZXh0SW5wdXQpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxpbmtDb21wb25lbnQgPSB2b2lkIDA7XG5jb25zdCBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuY29uc3QgY29sb3JzXzEgPSByZXF1aXJlKFwiLi9jb2xvcnNcIik7XG5jbGFzcyBMaW5rQ29tcG9uZW50IGV4dGVuZHMgYmFzZV8xLkNvbXBvbmVudEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBnZXRTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgYSB7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aTtcbiAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgIGNvbG9yOiAke2NvbG9yc18xLkNvbG9ycy5CTFVFfTtcbiAgICAgICAgfVxuICAgICAgICBhOmhvdmVyIHtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgfVxuICAgICAgICBhOnZpc2l0ZWQge1xuICAgICAgICAgIGNvbG9yOiAke2NvbG9yc18xLkNvbG9ycy5CTFVFfTtcbiAgICAgICAgfVxuICAgICAgICBgO1xuICAgIH1cbiAgICByZW5kZXJIVE1MKCkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8YSBocmVmPSR7dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0b1wiKX0+JHt0aGlzLmdldEF0dHJpYnV0ZShcImxhYmVsXCIpfTwvYT5cbiAgICAgICAgYDtcbiAgICB9XG59XG5leHBvcnRzLkxpbmtDb21wb25lbnQgPSBMaW5rQ29tcG9uZW50O1xuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwibGluay1jb21wb25lbnRcIiwgTGlua0NvbXBvbmVudCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ3VzdG9tU2VsZWN0VmlldyA9IGV4cG9ydHMuVHlwZVNlbGVjdFZpZXcgPSB2b2lkIDA7XG5jb25zdCBzZWxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3NlbGVjdGlvblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlR5cGVTZWxlY3RWaWV3XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxlY3Rpb25fMS5UeXBlU2VsZWN0VmlldzsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkN1c3RvbVNlbGVjdFZpZXdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlbGVjdGlvbl8xLkN1c3RvbVNlbGVjdFZpZXc7IH0gfSk7XG5yZXF1aXJlKFwiLi9idXR0b25cIik7XG5yZXF1aXJlKFwiLi9saW5rQ29tcG9uZW50XCIpO1xucmVxdWlyZShcIi4vaW5wdXRzXCIpO1xucmVxdWlyZShcIi4vdGFiU2VsZWN0aW9uXCIpO1xucmVxdWlyZShcIi4vbm90aWZpY2F0aW9uXCIpO1xucmVxdWlyZShcIi4vc3dpdGNoXCIpO1xuLy8gaW1wb3J0IHsgVGFiU2VsZWN0aW9uIH0gZnJvbSAnLi90YWJTZWxlY3Rpb24nO1xuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiY3VzdG9tLXNlbGVjdC12aWV3XCIsIHNlbGVjdGlvbl8xLkN1c3RvbVNlbGVjdFZpZXcpO1xuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwidHlwZS1zZWxlY3Qtdmlld1wiLCBzZWxlY3Rpb25fMS5UeXBlU2VsZWN0Vmlldyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSG92ZXJOb3RpZmljYXRpb24gPSB2b2lkIDA7XG5jb25zdCBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuY29uc3QgY29sb3JzXzEgPSByZXF1aXJlKFwiLi9jb2xvcnNcIik7XG5jbGFzcyBIb3Zlck5vdGlmaWNhdGlvbiBleHRlbmRzIGJhc2VfMS5Db21wb25lbnRCYXNlIHtcbiAgICBnZXRTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIGBcbmRpdiNjb250YWluZXIge1xuZm9udC1mYW1pbHk6IHN5c3RlbS11aTtcbnBvc2l0aW9uOiBmaXhlZDtcbmJvdHRvbTogMjRweDtcbnJpZ2h0OiAyNHB4O1xud2lkdGg6IDI1MHB4O1xuYmFja2dyb3VuZC1jb2xvcjogIzEwMTAxMDtcbmJvcmRlci1yYWRpdXM6IDE2cHg7XG5ib3JkZXI6IDFweCBzb2xpZCAjMzAzMDMwO1xuYm94LXNoYWRvdzogMCAwIDVweCA1cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xucGFkZGluZzogOHB4IDhweDtcbmRpc3BsYXk6IGZsZXg7XG5mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuZGl2I2NvbnRhaW5lci5saWdodCB7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuYm94LXNoYWRvdzogMCAwIDVweCA1cHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcbn1cbnNwYW4ge1xuY29sb3I6IHdoaXRlO1xuZm9udC1mYW1pbHk6IHN5c3RlbS11aTtcbn1cbmRpdiNjb250YWluZXIubGlnaHQgc3BhbiB7IGNvbG9yOiBibGFjazt9XG5zcGFuI3RpdGxlIHtcbmZvbnQtd2VpZ2h0OiBib2xkO1xuZm9udC1zaXplOiAxNnB4O1xufVxuc3BhbiNjb250ZW50IHtcbmZvbnQtc2l6ZTogMTRweDtcbmNvbG9yOiAjQTBBMEEwO1xufVxuLmQtbm9uZSB7XG5kaXNwbGF5OiBub25lO1xufVxuLmQtYmxvY2sge1xuZGlzcGxheTpibG9jaztcbn1cbi5kLWZsZXh7XG5kaXNwbGF5OiBmbGV4O1xufVxuYnV0dG9ue1xuYmFja2dyb3VuZC1jb2xvcjogIzQ5ODJEQjtcbmJvcmRlci1yYWRpdXM6IDUwcHg7XG5jb2xvcjogd2hpdGU7XG5ib3JkZXI6IG5vbmU7XG5vdXRsaW5lOiBub25lO1xucGFkZGluZzogNHB4IDhweDtcbn1cbmJ1dHRvbiNidXR0b24tZGlzbWlzcyB7XG5iYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbmNvbG9yOiAke2NvbG9yc18xLkNvbG9ycy5CTFVFfTtcbmJvcmRlcjogMXB4IHNvbGlkICR7Y29sb3JzXzEuQ29sb3JzLkJMVUV9O1xufVxuZGl2LmRhcmsgYnV0dG9uI2J1dHRvbi1kaXNtaXNzIHtcbmNvbG9yOiB3aGl0ZTtcbmJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbmJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5kaXYjY29udGFpbmVyLmQtbm9uZSB7XG5kaXNwbGF5OiBub25lO1xufVxuZGl2LmxpZ2h0IGJ1dHRvbiNidXR0b24tZGlzbWlzczpob3ZlciB7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjRjBGMEYwO1xufVxuZGl2LmRhcmsgYnV0dG9uI2J1dHRvbi1kaXNtaXNzOmhvdmVyIHtcbmJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbn1cbmA7XG4gICAgfVxuICAgIHJlbmRlckhUTUwoKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gXCJOb3RpZmljYXRpb24gVGl0bGVcIjtcbiAgICAgICAgY29uc3QgY29udGVudCA9IFwiTm90aWZpY2F0aW9uIGNvbnRlbnRcIjtcbiAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLmdldEF0dHJpYnV0ZShcInRoZW1lXCIpIHx8IFwibGlnaHRcIjtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBpZD1cImNvbnRhaW5lclwiIGNsYXNzPVwiJHt0aGVtZX0gZC1ub25lXCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IHBhZGRpbmc6IDhweCA4cHg7XCI+XG4gICAgICAgICAgICA8c3BhbiBpZD1cInRpdGxlXCI+JHt0aXRsZX08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBpZD1cImNvbnRlbnRcIj4ke2NvbnRlbnR9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTZweDsgbWFyZ2luOiA4cHggOHB4O1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImJ1dHRvbi1va1wiPk9LPC9idXRvbj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJidXR0b24tZGlzbWlzc1wiPkRpc21pc3M8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b24tZGlzbWlzc1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiZGlzbWlzcy1jbGlja2VkXCIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi1va1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwib2stY2xpY2tlZFwiKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaG93KHRpdGxlLCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5zaG93Q29udGFpbmVyKCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH1cbiAgICBzZXQgdGl0bGUodGl0bGUpIHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikuaW5uZXJUZXh0ID0gdGl0bGU7XG4gICAgfVxuICAgIHNldCBtZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKS5pbm5lclRleHQgPSBtZXNzYWdlO1xuICAgIH1cbiAgICBzaG93Q29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgfHwgXCJsaWdodFwiO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuY2xhc3NOYW1lID0gYCR7dGhlbWV9YDtcbiAgICB9XG4gICAgaGlkZSgpIHtcbiAgICAgICAgY29uc3QgdGhlbWUgPSB0aGlzLmdldEF0dHJpYnV0ZShcInRoZW1lXCIpIHx8IFwibGlnaHRcIjtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLmNsYXNzTmFtZSA9IGAke3RoZW1lfSBkLW5vbmVgO1xuICAgIH1cbn1cbmV4cG9ydHMuSG92ZXJOb3RpZmljYXRpb24gPSBIb3Zlck5vdGlmaWNhdGlvbjtcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImhvdmVyLW5vdGlmaWNhdGlvblwiLCBIb3Zlck5vdGlmaWNhdGlvbik7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHlwZVNlbGVjdFZpZXcgPSBleHBvcnRzLkN1c3RvbVNlbGVjdFZpZXcgPSB2b2lkIDA7XG5jbGFzcyBDdXN0b21TZWxlY3RWaWV3IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmludGVybmFsT3B0aW9ucyA9IFtdO1xuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgPT09IFwiZGFya1wiKSB7XG4gICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMjIyMjI7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweCA4cHg7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidXR0b246aG92ZXIge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZWxlY3RlZCB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzdGRjtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC5kLW5vbmUgeyBkaXNwbGF5OiBub25lOyB9XG4gICAgICAgICAgICAgICAgLmQtYmxvY2sgeyBkaXNwbGF5OiBibG9jazt9XG4gICAgICAgICAgICAgICAgLmQtZmxleCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuYnV0dG9uIHtcbnRleHQtYWxpZ246IHN0YXJ0O1xuYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbmJvcmRlcjogbm9uZTtcbnBhZGRpbmc6IDhweCA4cHg7XG5jb2xvcjogYmxhY2s7XG5mb250LXNpemU6IDFyZW07XG59XG5idXR0b246aG92ZXIge1xuYmFja2dyb3VuZC1jb2xvcjogI0YwRjBGMDtcbn1cbmJ1dHRvbi5zZWxlY3RlZCB7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjMDA3N0ZGO1xuY29sb3I6IHdoaXRlO1xufVxuLmQtbm9uZSB7IGRpc3BsYXk6IG5vbmU7IH1cbi5kLWJsb2NrIHsgZGlzcGxheTogYmxvY2s7fVxuLmQtZmxleCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47fVxufVxuYDtcbiAgICAgICAgfVxuICAgICAgICBzaGFkb3cuaW5uZXJIVE1MID0gYDxkaXY+PGRpdiBpZD1cIm9wdGlvbnMtbGlzdFwiIHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcIj48L2Rpdj48L2Rpdj5gO1xuICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcInNlbGVjdGVkb3B0aW9uaW5kZXhcIiwgXCJ0aGVtZVwiXTtcbiAgICB9XG4gICAgcmVuZGVyQWxsKCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgPT09IFwiZGFya1wiKSB7XG4gICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgICAgICAgICBidXR0b24ge1xuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMjIyMjI7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweCA4cHg7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidXR0b246aG92ZXIge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZWxlY3RlZCB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzdGRjtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC5kLW5vbmUgeyBkaXNwbGF5OiBub25lOyB9XG4gICAgICAgICAgICAgICAgLmQtYmxvY2sgeyBkaXNwbGF5OiBibG9jazt9XG4gICAgICAgICAgICAgICAgLmQtZmxleCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuYnV0dG9uIHtcbnRleHQtYWxpZ246IHN0YXJ0O1xuYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbmJvcmRlcjogbm9uZTtcbnBhZGRpbmc6IDhweCA4cHg7XG5jb2xvcjogYmxhY2s7XG5mb250LXNpemU6IDFyZW07XG59XG5idXR0b246aG92ZXIge1xuYmFja2dyb3VuZC1jb2xvcjogI0YwRjBGMDtcbn1cbmJ1dHRvbi5zZWxlY3RlZCB7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjMDA3N0ZGO1xuY29sb3I6IHdoaXRlO1xufVxuLmQtbm9uZSB7IGRpc3BsYXk6IG5vbmU7IH1cbi5kLWJsb2NrIHsgZGlzcGxheTogYmxvY2s7fVxuLmQtZmxleCB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47fVxufVxuYDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuaW5uZXJIVE1MID0gYDxkaXY+PGRpdiBpZD1cIm9wdGlvbnMtbGlzdFwiIHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcIj48L2Rpdj48L2Rpdj5gO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgICBzZXQgb3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qgb3B0aW9uc0xpc3RDb250YWluZXIgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJvcHRpb25zLWxpc3RcIik7XG4gICAgICAgIG9wdGlvbnNMaXN0Q29udGFpbmVyLmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5pbm5lclRleHQgPSBvcHRpb24ubGFiZWw7XG4gICAgICAgICAgICBvcHRpb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5kZWJ1ZyhcImRpc3BhdGNoIG9wdGlvbi1zZWxlY3RcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIm9wdGlvbi1zZWxlY3RcIiwgeyBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb24udmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIG9wdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwib25jbGlja1wiLCBcImFsZXJ0KCdjbGljaycpXCIpO1xuICAgICAgICAgICAgb3B0aW9uc0xpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQob3B0aW9uRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcInNldCBvcHRpb25zXCIpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxPcHRpb25zO1xuICAgIH1cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXCIpO1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJzZWxlY3RlZG9wdGlvbmluZGV4XCIpIHtcbiAgICAgICAgICAgIC8vIHJlLWRyYXdcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uSW5kZXggPSBwYXJzZUludChuZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb25JbmRleCA8IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcIm9wdGlvbnMtbGlzdFwiKS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJ1dHRvblwiKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJvcHRpb25zLWxpc3RcIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJidXR0b25cIikubGVuZ3RoID4gc2VsZWN0ZWRPcHRpb25JbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcIm9wdGlvbnMtbGlzdFwiKS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJ1dHRvblwiKVtzZWxlY3RlZE9wdGlvbkluZGV4XS5jbGFzc05hbWUgPSBcInNlbGVjdGVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmFtZSA9PT0gXCJ0aGVtZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5DdXN0b21TZWxlY3RWaWV3ID0gQ3VzdG9tU2VsZWN0VmlldztcbmNsYXNzIFR5cGVTZWxlY3RWaWV3IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLk9wdGlvbnMgPSBbXG4gICAgICAgICAgICB7IHZhbHVlOiAwLCBsYWJlbDogXCJkb2dcIiB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogMSwgbGFiZWw6IFwiY2F0XCIgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IDIsIGxhYmVsOiBcInJhYmJpdFwiIH0sXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA9IC0xO1xuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJyb290LXN0eWxlXCIpO1xuICAgICAgICBjb25zdCB0aGVtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIik7XG4gICAgICAgIGlmICh0aGVtZSA9PT0gXCJkYXJrXCIpIHtcbiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgICBkaXYjcm9vdCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBkaXYjc3ViIHtcbiAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDQ1cHg7XG4gICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDhweCk7XG4gICAgICAgICAgbWFyZ2luOiAwcHggNHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC43KTtcbmJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uI2NyZWF0ZS1uZXcge1xuICAgICAgICAgIHRleHQtYWxpZ246IHN0YXJ0O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XG5jb2xvcjogd2hpdGU7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIHBhZGRpbmc6IDhweCA0cHg7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uI2NyZWF0ZS1uZXc6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1MDUwNTA7XG4gICAgICAgIH1cbiAgICAgICAgLmQtbm9uZSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgICAgLmQtYmxvY2sgeyBkaXNwbGF5OiBibG9jazt9XG4gICAgICAgIGRpdiNzdWIuZC1mbGV4IHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA1cHggNXB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCNzZWFyY2gge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMDMwMzA7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMXM7XG4gICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICAgIG1hcmdpbjogNHB4IDRweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwcHg7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzMwMzAzMDtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggOHB4O1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG5jb2xvcjogd2hpdGU7XG59ICAgIGlucHV0I3NlYXJjaDpmb2N1cy12aXNpYmxlIHtcbmJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMTAwLCAxNzAsIDI1NSwgMC43KTtcbm91dGxpbmUtd2lkdGg6IDA7XG59XG5pbnB1dCNzZWFyY2guc2VsZWN0ZWQge1xuY29sb3I6ICNGRjMzMTE7XG5ib3JkZXItY29sb3I6ICNGRjMzMTE7XG59XG5gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAgIGRpdiNyb290IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGRpdiNzdWIge1xuICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogNDVweDtcbiAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gOHB4KTtcbiAgICAgICAgICBtYXJnaW46IDBweCA0cHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0IwQjBCMDtcbmJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiNjcmVhdGUtbmV3IHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuY29sb3I6IHdoaXRlO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggNHB4O1xuICAgICAgICAgIGNvbG9yOmJsYWNrO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24jY3JlYXRlLW5ldzpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0YwRjBGMDtcbiAgICAgICAgfVxuICAgICAgICAuZC1ub25lIHsgZGlzcGxheTogbm9uZTsgfVxuICAgICAgICAuZC1ibG9jayB7IGRpc3BsYXk6IGJsb2NrO31cbiAgICAgICAgZGl2I3N1Yi5kLWZsZXgge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAwIDVweCA1cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0I3NlYXJjaCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xcztcbiAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgbWFyZ2luOiA1cHggNXB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDBweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjNzA3MDcwO1xuICAgICAgICAgIHBhZGRpbmc6IDhweCA4cHg7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbmNvbG9yOiBibGFjaztcbn0gICAgaW5wdXQjc2VhcmNoOmZvY3VzLXZpc2libGUge1xuYm9yZGVyOiAycHggc29saWQgcmdiYSgxMDAsIDE3MCwgMjU1LCAwLjcpO1xubWFyZ2luOiA0cHg7XG5vdXRsaW5lLXdpZHRoOiAwO1xufVxuaW5wdXQjc2VhcmNoLnNlbGVjdGVkIHtcbmNvbG9yOiAjRkYzMzExO1xuYm9yZGVyLWNvbG9yOiAjRkYzMzExO1xufVxuYDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IHRoaXMuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikgfHwgXCJ0eXBlIGhlcmVcIjtcbiAgICAgICAgc2hhZG93LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBpZD1cInJvb3RcIj5cbiAgICAgICAgICA8Zm9ybSBpZD1cInNlYXJjaC1mb3JtXCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O1wiPlxuICAgICAgICAgICAgPGlucHV0IGlkPVwic2VhcmNoXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj0ke3BsYWNlaG9sZGVyfSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiIGF1dG9jb21wbGV0ZT1cIm9mZlwiLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPGRpdiBpZD1cInN1YlwiIGNsYXNzPVwiZC1ub25lXCI+XG4gICAgICAgICAgICA8Y3VzdG9tLXNlbGVjdC12aWV3IGlkPVwic2VsZWN0LXZpZXdcIiB0aGVtZT0ke3RoZW1lfT48L2N1c3RvbS1zZWxlY3Qtdmlldz5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjcmVhdGUtbmV3XCI+Q3JlYXRlIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbmA7XG4gICAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIGNvbnN0IHNlYXJjaEVsZW1lbnQgPSBzaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hcIik7XG4gICAgICAgIGNvbnN0IHNlYXJjaEZvcm1FbGVtZW50ID0gc2hhZG93LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoLWZvcm1cIik7XG4gICAgICAgIHNlYXJjaEVsZW1lbnQub25pbnB1dCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJvbmlucHV0XCIpO1xuICAgICAgICAgICAgdGhpcy5vblNlYXJjaElucHV0Q2hhbmdlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHNlYXJjaEVsZW1lbnQub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm9uIGtleSBkb3duXCIpO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRPcHRpb25zID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0LXZpZXdcIikub3B0aW9ucztcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4IC09IDE7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA8IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA+PSBmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggPSBmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hcIikuYmx1cigpO1xuICAgICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCk9Pnt0aGlzLm9uRm9jdXMoKTt9LCAyMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkZvY3VzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0LXZpZXdcIikuc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRvcHRpb25pbmRleFwiLCB0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uSW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4IDwgMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4ID49IGZpbHRlcmVkT3B0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA9IGZpbHRlcmVkT3B0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlYXJjaFwiKS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkZvY3VzKCk7XG4gICAgICAgICAgICAgICAgLy8gc2V0VGltZW91dCgoKT0+e3RoaXMub25Gb2N1cygpO30sIDIwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3Qtdmlld1wiKS5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZG9wdGlvbmluZGV4XCIsIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICAgICAgICAgIHRoaXMub25CbHVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNlYXJjaEZvcm1FbGVtZW50Lm9uc3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uU2VhcmNoRm9ybVN1Ym1pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBzZWFyY2hGb3JtRWxlbWVudC5vbmZvY3VzID0gKCkgPT4geyB0aGlzLm9uRm9jdXMoKTsgfTtcbiAgICAgICAgc2VhcmNoRWxlbWVudC5vbmZvY3VzID0gKCkgPT4geyB0aGlzLm9uRm9jdXMoKTsgfTtcbiAgICAgICAgdGhpcy5PcHRpb25zID0gW1xuICAgICAgICAgICAgeyB2YWx1ZTogMCwgbGFiZWw6IFwiZG9nXCIgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IDEsIGxhYmVsOiBcImNhdFwiIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAyLCBsYWJlbDogXCJyYWJiaXRcIiB9LFxuICAgICAgICBdO1xuICAgICAgICBzZWFyY2hFbGVtZW50Lm9uYmx1ciA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2VhcmNoIGJsdXJcIik7XG4gICAgICAgICAgICAvL3RoaXMub25CbHVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIHNlYXJjaEZvcm1FbGVtZW50Lm9uYmx1ciA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2VhcmNoIGZvcm0gYmx1clwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5PcHRpb25zO1xuICAgICAgICB0aGlzLm9uYmx1ciA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwidGhpcyBibHVyXCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkJsdXIoKTtcbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgIC8vIHRoaXMub25CbHVyKClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbmZvY3VzID0gKCkgPT4geyB0aGlzLm9uRm9jdXMoKTsgfTtcbiAgICAgICAgc2hhZG93LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0LXZpZXdcIikuYWRkRXZlbnRMaXN0ZW5lcihcIm9wdGlvbi1zZWxlY3RcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmRlYnVnKFwicmVjZWl2ZWQgb3B0aW9uLXNlbGVjdFwiKTtcbiAgICAgICAgICAgIC8vIEJVRzogc2FmYXJp44Gn44GvaW5wdXTjgavjg5Xjgqnjg7zjgqvjgrnjgYzjgYLjgaPjgZ/jgabjgYTjgovjgajjgIHjgq/jg6rjg4Pjgq/jgqTjg5njg7Pjg4jjgYzotbfjgY3jgarjgYTjgIJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBldmVudC5kZXRhaWwudmFsdWU7XG4gICAgICAgICAgICB0aGlzLm9uT3B0aW9uU2VsZWN0ZWQoKHNlbGVjdGVkVmFsdWUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInN1YlwiKS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImRpc3BsYXk6IG5vbmU7XCIpO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzdWJcIikuY2xhc3NOYW1lID0gXCJkLW5vbmVcIjtcbiAgICAgICAgY29uc3QgY3JlYXRlTmV3QnV0dG9uID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY3JlYXRlLW5ld1wiKTtcbiAgICAgICAgY3JlYXRlTmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHsgdGhpcy5vbkNyZWF0ZU5ld0J1dHRvbkNsaWNrZWQoKTsgfSk7XG4gICAgICAgIGNyZWF0ZU5ld0J1dHRvbi5jbGFzc05hbWUgPSBcImQtbm9uZVwiO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIFtcInRoZW1lXCIsIFwicGxhY2Vob2xkZXJcIl07XG4gICAgfVxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwidGhlbWVcIikge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJyb290LXN0eWxlXCIpO1xuICAgICAgICAgICAgY29uc3QgdGhlbWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlbGVjdC12aWV3XCIpLnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIHRoZW1lKTtcbiAgICAgICAgICAgIGlmICh0aGVtZSA9PT0gXCJkYXJrXCIpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgZGl2I3Jvb3Qge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgZGl2I3N1YiB7XG4gICAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiA0NXB4O1xuICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA4cHgpO1xuICAgICAgICAgIG1hcmdpbjogMHB4IDRweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuNyk7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiNjcmVhdGUtbmV3IHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xuY29sb3I6IHdoaXRlO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggNHB4O1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiNjcmVhdGUtbmV3OmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTA1MDUwO1xuICAgICAgICB9XG4gICAgICAgIC5kLW5vbmUgeyBkaXNwbGF5OiBub25lOyB9XG4gICAgICAgIC5kLWJsb2NrIHsgZGlzcGxheTogYmxvY2s7fVxuICAgICAgICBkaXYjc3ViLmQtZmxleCB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDAgNXB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQjc2VhcmNoIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAzMDMwO1xuICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjFzO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICBtYXJnaW46IDRweCA0cHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMHB4O1xuICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICMzMDMwMzA7XG4gICAgICAgICAgcGFkZGluZzogOHB4IDhweDtcbiAgICAgICAgICBvdXRsaW5lOiBub25lO1xuY29sb3I6IHdoaXRlO1xufSAgICBpbnB1dCNzZWFyY2g6Zm9jdXMtdmlzaWJsZSB7XG5ib3JkZXI6IDJweCBzb2xpZCByZ2JhKDEwMCwgMTcwLCAyNTUsIDAuNyk7XG5vdXRsaW5lLXdpZHRoOiAwO1xufVxuaW5wdXQjc2VhcmNoLnNlbGVjdGVkIHtcbmNvbG9yOiAjRkYzMzExO1xuYm9yZGVyLWNvbG9yOiAjRkYzMzExO1xufVxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgICBkaXYjcm9vdCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBkaXYjc3ViIHtcbiAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDQ1cHg7XG4gICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDhweCk7XG4gICAgICAgICAgbWFyZ2luOiAwcHggNHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNCMEIwQjA7XG5iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24jY3JlYXRlLW5ldyB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbmNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgcGFkZGluZzogOHB4IDRweDtcbiAgICAgICAgICBjb2xvcjpibGFjaztcbiAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uI2NyZWF0ZS1uZXc6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGMEYwRjA7XG4gICAgICAgIH1cbiAgICAgICAgLmQtbm9uZSB7IGRpc3BsYXk6IG5vbmU7IH1cbiAgICAgICAgLmQtYmxvY2sgeyBkaXNwbGF5OiBibG9jazt9XG4gICAgICAgIGRpdiNzdWIuZC1mbGV4IHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA1cHggNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCNzZWFyY2gge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMXM7XG4gICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICAgIG1hcmdpbjogNXB4IDVweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwcHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzcwNzA3MDtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggOHB4O1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG5jb2xvcjogYmxhY2s7XG59ICAgIGlucHV0I3NlYXJjaDpmb2N1cy12aXNpYmxlIHtcbmJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMTAwLCAxNzAsIDI1NSwgMC43KTtcbm1hcmdpbjogNHB4O1xub3V0bGluZS13aWR0aDogMDtcbn1cbmlucHV0I3NlYXJjaC5zZWxlY3RlZCB7XG5jb2xvcjogI0ZGMzMxMTtcbmJvcmRlci1jb2xvcjogI0ZGMzMxMTtcbn1cbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25TZWFyY2hGb3JtU3VibWl0KCkge1xuICAgICAgICAvLyBjcmVhdGUgb3Igc2V0XG4gICAgICAgIGNvbnN0IHNlbGVjdFZpZXcgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3Qtdmlld1wiKTtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlbGVjdC12aWV3XCIpLm9wdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLm9uT3B0aW9uU2VsZWN0ZWQoc2VsZWN0Vmlldy5vcHRpb25zWzBdW1widmFsdWVcIl0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA+PSAwICYmIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA8PSB0aGlzLk9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLm9uT3B0aW9uU2VsZWN0ZWQodGhpcy5vcHRpb25zW3RoaXMuc2VsZWN0ZWRPcHRpb25JbmRleF1bXCJ2YWx1ZVwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY3JlYXRlLW5ld1wiKS5jbGFzc05hbWUgPT09IFwiZC1ibG9ja1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNyZWF0ZU5ld0J1dHRvbkNsaWNrZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uQmx1cigpO1xuICAgIH1cbiAgICBvbkNyZWF0ZU5ld0J1dHRvbkNsaWNrZWQoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBuZXcgQXJyYXkodGhpcy5PcHRpb25zKTtcbiAgICAgICAgY29uc3QgbmV3T3B0aW9uID0ge1xuICAgICAgICAgICAgXCJ2YWx1ZVwiOiB0aGlzLk9wdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgXCJsYWJlbFwiOiB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hcIikudmFsdWVcbiAgICAgICAgfTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG9wdGlvbnMubGVuZ3RoPSR7dGhpcy5PcHRpb25zLmxlbmd0aH1gKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2cobmV3T3B0aW9uKTtcbiAgICAgICAgLy8gb3B0aW9ucy5wdXNoKG5ld09wdGlvbik7XG4gICAgICAgIHRoaXMuT3B0aW9ucy5wdXNoKG5ld09wdGlvbik7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJzZWxlY3Rpb24tb3B0aW9ucy1jaGFuZ2VcIiwge1xuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5PcHRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5vbk9wdGlvblNlbGVjdGVkKG5ld09wdGlvbi52YWx1ZSk7XG4gICAgfVxuICAgIG9uT3B0aW9uU2VsZWN0ZWQodmFsdWUpIHtcbiAgICAgICAgbGV0IGxhYmVsID0gXCJcIjtcbiAgICAgICAgbGV0IG9wdGlvbkluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgdGhpcy5PcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGxhYmVsID0gb3B0aW9uLmxhYmVsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25JbmRleCA9IG9wdGlvbkluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlbGVjdC12aWV3XCIpLnNldEF0dHJpYnV0ZShcInNlbGVjdGVkb3B0aW9uaW5kZXhcIiwgdGhpcy5zZWxlY3RlZE9wdGlvbkluZGV4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9uSW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hcIikudmFsdWUgPSBsYWJlbDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcInR5cGUtc2VsZWN0LWNoYW5nZVwiLCB7IGRldGFpbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgIHRoaXMub25CbHVyKCk7XG4gICAgfVxuICAgIGdldCBjdXJyZW50TGFiZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hcIikudmFsdWU7XG4gICAgfVxuICAgIG9uRm9jdXMoKSB7XG4gICAgICAgIC8vIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInN1YlwiKS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImRpc3BsYXk6IGJsb2NrO1wiKTtcbiAgICAgICAgLy8gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic3ViXCIpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiZGlzcGxheTogZmxleDtcIik7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInN1YlwiKS5jbGFzc05hbWUgPSBcImQtZmxleFwiO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hcIikuZm9jdXMoKTtcbiAgICB9XG4gICAgb25CbHVyKCkge1xuICAgICAgICAvLyB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzdWJcIikuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJkaXNwbGF5OiBub25lO1wiKTtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLmJsdXIoKTtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic3ViXCIpLmNsYXNzTmFtZSA9IFwiZC1ub25lXCI7XG4gICAgfVxuICAgIHNldENyZWF0ZU5ld0J1dHRvbkRpc3BsYXkoZmlsdGVyZWRPcHRpb25zLCBzZWFyY2hRdWVyeSkge1xuICAgICAgICBjb25zdCBjcmVhdGVOZXdCdXR0b24gPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjcmVhdGUtbmV3XCIpO1xuICAgICAgICBjcmVhdGVOZXdCdXR0b24uaW5uZXJUZXh0ID0gYENyZWF0ZTogJHtzZWFyY2hRdWVyeX1gO1xuICAgICAgICBpZiAoc2VhcmNoUXVlcnkgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0J1dHRvbi5jbGFzc05hbWUgPSBcImQtbm9uZVwiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY3JlYXRlTmV3QnV0dG9uLmNsYXNzTmFtZSA9IFwiZC1ibG9ja1wiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpbHRlcmVkT3B0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZE9wdGlvbnNbMF1bXCJsYWJlbFwiXSA9PT0gc2VhcmNoUXVlcnkpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVOZXdCdXR0b24uY2xhc3NOYW1lID0gXCJkLW5vbmVcIjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlTmV3QnV0dG9uLmNsYXNzTmFtZSA9IFwiZC1ibG9ja1wiO1xuICAgIH1cbiAgICBvblNlYXJjaElucHV0Q2hhbmdlKHNlYXJjaFF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkT3B0aW9ucyA9IHRoaXMuT3B0aW9ucy5maWx0ZXIoKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbltcImxhYmVsXCJdLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInNlbGVjdC12aWV3XCIpLm9wdGlvbnMgPSBmaWx0ZXJlZE9wdGlvbnM7XG4gICAgICAgIHRoaXMuc2V0Q3JlYXRlTmV3QnV0dG9uRGlzcGxheShmaWx0ZXJlZE9wdGlvbnMsIHNlYXJjaFF1ZXJ5KTtcbiAgICAgICAgLy8gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY3JlYXRlLW5ld1wiKS5pbm5lclRleHQgPSBg5paw6KaP5L2c5oiQOiAke3NlYXJjaFF1ZXJ5fWA7XG4gICAgfVxuICAgIHNldCBvcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5PcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0LXZpZXdcIikub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5PcHRpb25zO1xuICAgIH1cbiAgICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgdGhpcy5vcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uW1widmFsdWVcIl0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLnZhbHVlID0gb3B0aW9uW1wibGFiZWxcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0IHNlbGVjdGVkKHNlbGVjdGVkKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2V0IHNlbGVjdGVkXCIpO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hcIikuY2xhc3NOYW1lID0gc2VsZWN0ZWQgPyBcInNlbGVjdGVkXCIgOiBcIm5vdC1zZWxlY3RlZFwiO1xuICAgIH1cbn1cbmV4cG9ydHMuVHlwZVNlbGVjdFZpZXcgPSBUeXBlU2VsZWN0VmlldztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Td2l0Y2hDb21wb25lbnQgPSB2b2lkIDA7XG5jb25zdCBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuY2xhc3MgU3dpdGNoQ29tcG9uZW50IGV4dGVuZHMgYmFzZV8xLkNvbXBvbmVudEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvLyBjb25zdCB0b2dnbGVFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwidG9nZ2xlXCIpO1xuICAgICAgICAvLyB0b2dnbGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIC8vICAgICB0aGlzLnRvZ2dsZU9uT2ZmKCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgdGhpcy50b2dnbGVPbk9mZigpOyB9KTtcbiAgICB9XG4gICAgdG9nZ2xlT25PZmYoKSB7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJ0b2dnbGVcIik7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIik7XG4gICAgICAgIGNvbnN0IHRvZ2dsZU9uID0gdG9nZ2xlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJvblwiKTtcbiAgICAgICAgdG9nZ2xlRWxlbWVudC5jbGFzc05hbWUgPSB0b2dnbGVPbiA/IFwib2ZmXCIgOiBcIm9uXCI7XG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuY2xhc3NOYW1lID0gdG9nZ2xlT24gPyBcIm9mZlwiIDogXCJvblwiO1xuICAgIH1cbiAgICBnZXRTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgZGl2I2NvbnRhaW5lcntcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgICBwYWRkaW5nOiAwcHg7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0UwRTBFMDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjQUFBQUFBO1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICB3aWR0aDogNTVweDtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcztcbiAgICAgICAgfVxuICAgICAgICBkaXYjY29udGFpbmVyLm9ue1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDc3RkY7XG4gICAgICAgIH1cbiAgICAgICAgI3RvZ2dsZXtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMXM7XG4gICAgICAgICAgbGVmdDogNXB4O1xuICAgICAgICAgIHRvcDogNXB4O1xuICAgICAgICB9XG4gICAgICAgIHNwYW57XG4gICAgICAgIGZvbnQtc2l6ZTogMC42NXJlbTtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgc3BhbiNvbntcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiA3cHg7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgfVxuICAgICAgICBzcGFuI29mZntcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICByaWdodDogN3B4O1xuICAgICAgICBjb2xvcjogIzUwNTA1MDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpdiNjb250YWluZXIub24gc3BhbiNvZmZ7ZGlzcGxheTogbm9uZTt9XG4gICAgICAgIGRpdiNjb250YWluZXIub2ZmIHNwYW4jb24ge2Rpc3BsYXk6IG5vbmU7fVxuICAgICAgICAjdG9nZ2xlLm9uIHtcbiAgICAgICAgICBsZWZ0OiBjYWxjKDEwMCUgLSAyNXB4KTtcbiAgICAgICAgfVxuICAgICAgICBgO1xuICAgIH1cbiAgICByZW5kZXJIVE1MKCkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGlkPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPHNwYW4gaWQ9XCJvblwiPk9OPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGlkPVwib2ZmXCI+T0ZGPC9zcGFuPlxuICAgICAgICAgIDxkaXYgaWQ9XCJ0b2dnbGVcIj5cbiAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjBweFwiIGhlaWdodD1cIjIwcHhcIiB2aWV3Ym94PVwiMCAwIDEwMCAxMDBcIj5cbiAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI1MFwiIGN5PVwiNTBcIiByPVwiNTBcIiBmaWxsPVwiI0ZGRkZGRlwiIHN0cm9rZT1cIiMzMDMwMzBcIiBzdHJva2Utd2lkdGg9XCIyXCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICB9XG59XG5leHBvcnRzLlN3aXRjaENvbXBvbmVudCA9IFN3aXRjaENvbXBvbmVudDtcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcInN3aXRjaC1jb21wb25lbnRcIiwgU3dpdGNoQ29tcG9uZW50KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UYWJTZWxlY3Rpb24gPSB2b2lkIDA7XG5jb25zdCBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuY2xhc3MgVGFiU2VsZWN0aW9uIGV4dGVuZHMgYmFzZV8xLkNvbXBvbmVudEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmN1cnJlbnRTZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMucmVuZGVyTGFiZWxzKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICByZXR1cm4gW1widGhlbWVcIiwgXCJsYWJlbHNcIiwgXCJvcHRpb25pbmRleFwiXTtcbiAgICB9XG4gICAgcmVuZGVyTGFiZWxzKCkge1xuICAgICAgICBjb25zdCBsYWJlbHMgPSBKU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKFwibGFiZWxzXCIpKTtcbiAgICAgICAgY29uc3Qgcm9vdEVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpO1xuICAgICAgICByb290RWxlbWVudC5pbm5lclRleHQgPSBcIlwiO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50U2VsZWN0ZWRJbmRleCA8IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcIm9wdGlvbmluZGV4XCIpIHx8IFwiMFwiKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgbGFiZWwgb2YgbGFiZWxzKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxTZWxlY3RlZCA9IChpbmRleCA9PT0gdGhpcy5jdXJyZW50U2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgICBsYWJlbEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYHRhYi1pdGVtLWNvbnRhaW5lciAke2xhYmVsU2VsZWN0ZWQgPyAnc2VsZWN0ZWQnIDogJ25vdC1zZWxlY3RlZCd9YCk7XG4gICAgICAgICAgICBsYWJlbEVsZW1lbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSR7bGFiZWxTZWxlY3RlZCA/IFwic2VsZWN0ZWRcIiA6IFwibm90LXNlbGVjdGVkXCJ9PiR7bGFiZWx9PC9idXR0b24+XG4gICAgICAgICAgICBgO1xuICAgICAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWxFbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIGxhYmVsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkSW5kZXggPSBmaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTGFiZWxzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIm9wdGlvbi1zZWxlY3RcIiwgeyBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBmaW5hbEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFN0eWxlKCkge1xuICAgICAgICByZXR1cm4gYGRpdiNyb290IHtcbiAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgIGdhcDogMHB4O1xuICAgICAgICAgIGdyaWQtYXV0by1jb2x1bW5zOiAxZnI7XG4gICAgICAgICAgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwcHg7XG4gICAgICAgIH1cbiAgICAgICAgZGl2I3Jvb3QuZGFyayB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzFGMUYxRjtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjNTA1MDUwO1xuICAgICAgICB9XG4gICAgICAgIGRpdiNyb290LmxpZ2h0IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTs7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAgIG1hcmdpbjogMHB4O1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgICAgICBib3JkZXI6IDBweDtcbiAgICAgICAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWk7XG4gICAgICAgIH1cbiAgICAgICAgZGl2LmxpZ2h0IGJ1dHRvbiB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnRcbiAgICAgICAgfVxuICAgICAgICBkaXYuZGFyayBidXR0b24ge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICBkaXYuZGFyayBidXR0b24uc2VsZWN0ZWR7XG4gICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMS4wKTtcbiAgICAgICAgICAvL2JhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNyk7XG4gICAgICAgIH1cbiAgICAgICAgZGl2LmRhcmsgYnV0dG9uLm5vdC1zZWxlY3RlZHtcbiAgICAgICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgICAgICAgIC8vYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBcblxuICAgIGRpdi5saWdodCBidXR0b24uc2VsZWN0ZWQgeyBjb2xvcjogd2hpdGU7fVxuICAgIGRpdi5saWdodCBidXR0b24ubm90LXNlbGVjdGVkIHsgY29sb3I6ICM1MDUwNTA7fVxuICAgIGRpdi5zZWxlY3RlZCwgZGl2Lm5vdC1zZWxlY3RlZHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBwYWRkaW5nOiAwcHggNHB4O1xuYm9yZGVyLXJhZGl1czogMHB4O1xudHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjFzO1xuICAgIH1cbiAgICBkaXYuZGFyayBkaXYuc2VsZWN0ZWQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0FBQUFBQTtcbiAgICB9XG4gICAgZGl2LmRhcmsgZGl2Lm5vdC1zZWxlY3RlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMCk7XG5cbiAgICB9XG4gICAgZGl2LmRhcmsgZGl2Lm5vdC1zZWxlY3RlZDpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAzMDMwO1xuICAgIH1cbmRpdi5saWdodCBkaXYubm90LXNlbGVjdGVkOmhvdmVyIHtiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpO31cbiAgICBkaXYubGlnaHQgZGl2LnNlbGVjdGVkIHtcbmJhY2tncm91bmQtY29sb3I6ICMwMDc3RkY7XG59XG5kaXYubGlnaHQgZGl2Lm5vdC1zZWxlY3RlZCB7XG5iYWNrZ3JvdW5kLWNvbG9yOiAjRjdGN0Y3O1xufVxuXG4gICAgYDtcbiAgICAgICAgLy8gcmV0dXJuIGBcbiAgICAgICAgLy8gZGl2I3Jvb3R7XG4gICAgICAgIC8vICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgLy8gICBncmlkLWF1dG8tY29sdW1uczogMWZyO1xuICAgICAgICAvLyAgIGdyaWQtYXV0by1mbG93OiBjb2x1bW47XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gZGl2LnRhYi1pdGVtLWNvbnRhaW5lciB7XG4gICAgICAgIC8vICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgLy8gICBqdXN0aWZ5LWl0ZW1zOiBzdHJldGNoO1xuICAgICAgICAvLyAgIHBhZGRpbmc6IDBweCA4cHg7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gZGl2LnRhYi1pdGVtLWNvbnRhaW5lci5zZWxlY3RlZCB7XG4gICAgICAgIC8vICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGRpdi50YWItaXRlbS1jb250YWluZXIgYnV0dG9uIHtcbiAgICAgICAgLy8gICB3aWR0aDogMTAwJTtcbiAgICAgICAgLy8gICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuICAgICAgICAvLyAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIC8vICAgYm9yZGVyOiBub25lO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGRpdi50YWItaXRlbS1jb250YWluZXIgYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgLy8gICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjBGMEYwO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vICAgYDtcbiAgICB9XG4gICAgcmVuZGVySFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBpZD1cInJvb3RcIiBjbGFzcz0ke3RoaXMuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgfHwgXCJsaWdodFwifT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgfVxufVxuZXhwb3J0cy5UYWJTZWxlY3Rpb24gPSBUYWJTZWxlY3Rpb247XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ0YWItc2VsZWN0aW9uXCIsIFRhYlNlbGVjdGlvbik7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ29tcG9uZW50QmFzZSIsIkhUTUxFbGVtZW50IiwiY29uc3RydWN0b3IiLCJzdXBlciIsInNoYWRvdyIsInRoaXMiLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwic3R5bGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImdldFN0eWxlIiwiaW5uZXJIVE1MIiwicmVuZGVySFRNTCIsImFwcGVuZENoaWxkIiwicmVuZGVyQWxsIiwic2hhZG93Um9vdCIsIkJ1dHRvbkl0ZW0iLCJiYXNlXzEiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJuYW1lIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJUZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTmFtZSIsImdldEF0dHJpYnV0ZSIsImxhYmVsIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJDb2xvcnMiLCJCTFVFIiwiVGV4dElucHV0IiwiY29sb3JzXzEiLCJjYXNjYWRlRXZlbnQiLCJldmVudCIsImNvbnNvbGUiLCJsb2ciLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJiaW5kIiwiZSIsIm9uSW5wdXQiLCJMaW5rQ29tcG9uZW50Iiwic2VsZWN0aW9uXzEiLCJDdXN0b21TZWxlY3RWaWV3IiwiVHlwZVNlbGVjdFZpZXciLCJIb3Zlck5vdGlmaWNhdGlvbiIsImhpZGUiLCJzaG93IiwidGl0bGUiLCJtZXNzYWdlIiwic2hvd0NvbnRhaW5lciIsInNldFRpbWVvdXQiLCJ0aGVtZSIsImludGVybmFsT3B0aW9ucyIsIm9wdGlvbnMiLCJvcHRpb25zTGlzdENvbnRhaW5lciIsIm9wdGlvbiIsIm9wdGlvbkVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJkZXRhaWwiLCJkZWJ1ZyIsInNlbGVjdGVkT3B0aW9uSW5kZXgiLCJwYXJzZUludCIsImVsZW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIk9wdGlvbnMiLCJwbGFjZWhvbGRlciIsInNlYXJjaEVsZW1lbnQiLCJzZWFyY2hGb3JtRWxlbWVudCIsIm9uaW5wdXQiLCJvblNlYXJjaElucHV0Q2hhbmdlIiwidGFyZ2V0Iiwib25rZXlkb3duIiwiZmlsdGVyZWRPcHRpb25zIiwia2V5Iiwib25Gb2N1cyIsInRvU3RyaW5nIiwib25CbHVyIiwib25zdWJtaXQiLCJvblNlYXJjaEZvcm1TdWJtaXQiLCJvbmZvY3VzIiwib25ibHVyIiwic2VsZWN0ZWRWYWx1ZSIsIm9uT3B0aW9uU2VsZWN0ZWQiLCJjcmVhdGVOZXdCdXR0b24iLCJvbkNyZWF0ZU5ld0J1dHRvbkNsaWNrZWQiLCJzZWxlY3RWaWV3IiwiQXJyYXkiLCJuZXdPcHRpb24iLCJwdXNoIiwib3B0aW9uSW5kZXgiLCJjdXJyZW50TGFiZWwiLCJmb2N1cyIsImJsdXIiLCJzZXRDcmVhdGVOZXdCdXR0b25EaXNwbGF5Iiwic2VhcmNoUXVlcnkiLCJmaWx0ZXIiLCJpbmNsdWRlcyIsInNlbGVjdGVkIiwiU3dpdGNoQ29tcG9uZW50IiwidG9nZ2xlT25PZmYiLCJ0b2dnbGVFbGVtZW50IiwiY29udGFpbmVyRWxlbWVudCIsInRvZ2dsZU9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJUYWJTZWxlY3Rpb24iLCJjdXJyZW50U2VsZWN0ZWRJbmRleCIsInJlbmRlckxhYmVscyIsImxhYmVscyIsIkpTT04iLCJwYXJzZSIsInJvb3RFbGVtZW50Iiwic2VsZWN0ZWRJbmRleCIsImluZGV4IiwibGFiZWxFbGVtZW50IiwibGFiZWxTZWxlY3RlZCIsImZpbmFsSW5kZXgiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sInNvdXJjZVJvb3QiOiIifQ==